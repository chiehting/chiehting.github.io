<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>tcp on Chiehting</title><link>https://chiehting.com/tags/tcp/</link><description>Recent content in tcp on Chiehting</description><generator>Hugo -- gohugo.io</generator><copyright>Copyright © 2008–2018, Steve Francia and the Hugo Authors; all rights reserved.</copyright><lastBuildDate>Mon, 08 Jan 2024 16:59:21 +0800</lastBuildDate><atom:link href="https://chiehting.com/tags/tcp/index.xml" rel="self" type="application/rss+xml"/><item><title>TCP of linux</title><link>https://chiehting.com/posts/linux-tcp/</link><pubDate>Mon, 08 Jan 2024 16:59:21 +0800</pubDate><guid>https://chiehting.com/posts/linux-tcp/</guid><description>
&lt;p>TCP（Transmission Control Protocol）在使用時，與每個 TCP 連接相關的狀態是動態變化的，而這些狀態通常被監控以確保系統的正常運作。以下是一些 TCP 狀態及其相關的描述：&lt;/p>
&lt;ol>
&lt;li>
&lt;p>&lt;strong>&lt;code>ALLOCATED&lt;/code>：&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>這通常不是一個 TCP 狀態，而是表示資源已被分配（allocate）給一個 TCP 連接，但可能還沒有被使用。&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>&lt;code>LISTEN&lt;/code>：&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>當一個服務器正在等待客戶端連接時，該 TCP 連接處於 &lt;code>LISTEN&lt;/code> 狀態。在這種狀態下，該連接可以接受新的連接請求。&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>&lt;code>SYN-SENT&lt;/code>：&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>客戶端發送一個 SYN（同步）請求，進入 &lt;code>SYN-SENT&lt;/code> 狀態等待伺服器的確認。在這種狀態下，TCP 連接正在初始化。&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>&lt;code>SYN-RECEIVED&lt;/code>：&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>伺服器在接收到客戶端的 SYN 請求後，發送自己的 SYN 和 ACK（確認）請求，進入 &lt;code>SYN-RECEIVED&lt;/code> 狀態。在這種狀態下，TCP 連接正在確認並同時初始化。&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>&lt;code>ESTABLISHED&lt;/code>：&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>一旦三次握手完成，連接進入 &lt;code>ESTABLISHED&lt;/code> 狀態，表示數據可以在雙方之間傳輸。&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>&lt;code>FIN-WAIT-1&lt;/code>、&lt;code>FIN-WAIT-2&lt;/code>：&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>當一方（通常是客戶端或伺服器）決定結束連接，它會進入 &lt;code>FIN-WAIT-1&lt;/code> 狀態，等待對方的確認。在對方發送確認後，它進入 &lt;code>FIN-WAIT-2&lt;/code> 狀態，等待對方的結束請求。&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>&lt;code>TIME-WAIT&lt;/code>：&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>在一方發送結束請求後，進入 &lt;code>TIME-WAIT&lt;/code> 狀態，等待可能在網絡上延遲的最後一個 ACK。這是為了確保已傳送的 ACK 得到正確處理。&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>&lt;code>CLOSE-WAIT&lt;/code>：&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>表示對方已經結束連接，而自己還可以發送數據。&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>&lt;code>CLOSING&lt;/code>：&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>表示雙方都在同時結束連接，但仍然需要進行一些確認。&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>&lt;code>LAST-ACK&lt;/code>：&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>表示自己已經結束連接，並等待對方的確認。&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>&lt;code>CLOSED&lt;/code>：&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>表示連接已經完全結束，不再存在。&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ol>
&lt;p>這些狀態描述了 TCP 連接的生命週期中的不同階段。關於 TCP 狀態的監控，通常會關注一些與之相關的指標，例如 &lt;code>node_sockstat_TCP_alloc&lt;/code>（如果有的話）以及 &lt;code>netstat&lt;/code> 命令的輸出。這些指標和工具可以提供關於 TCP 連接數量、狀態轉換等信息，進而幫助進行系統監控和調試。&lt;/p></description></item></channel></rss>