<!doctype html><html lang=en-us><head><script async src="https://www.googletagmanager.com/gtag/js?id=G-G1C48BPHVP"></script><script>var dnt,doNotTrack=!1;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-G1C48BPHVP")}</script><meta charset=UTF-8><meta charset=utf-8><meta name=viewport content="width=device-width,user-scalable=no,initial-scale=1,maximum-scale=1,minimal-ui"><meta http-equiv=X-UA-Compatible content="ie=edge"><meta name=robots content="index, follow"><meta name=author content="Chiehting"><meta name=description content="This website is preview about Chiehting. irregular update."><link rel=manifest href=/site.webmanifest><link rel=icon type=image/png sizes=96x96 href=/favicon-96x96.png><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><meta name=apple-mobile-web-app-title content="Chiehting's Blog"><meta name=theme-color content="#494f5c"><meta name=msapplication-TileColor content="#494f5c"><meta itemprop=name content="Relearn PHP"><meta itemprop=description content="PHP7 release也一段時間了,最近在開發常會看到相關的文章,最近抽個空好好來重新學習PHP."><meta itemprop=datePublished content="2017-12-21T00:00:00+08:00"><meta itemprop=dateModified content="2017-12-21T00:00:00+08:00"><meta itemprop=wordCount content="4532"><meta itemprop=keywords content="Php"><meta property="og:url" content="https://chiehting.com/posts/php7-document/"><meta property="og:site_name" content="Chiehting's Blog"><meta property="og:title" content="Relearn PHP"><meta property="og:description" content="PHP7 release也一段時間了,最近在開發常會看到相關的文章,最近抽個空好好來重新學習PHP."><meta property="og:locale" content="en_us"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2017-12-21T00:00:00+08:00"><meta property="article:modified_time" content="2017-12-21T00:00:00+08:00"><meta property="article:tag" content="Php"><meta name=twitter:card content="summary"><meta name=twitter:title content="Relearn PHP"><meta name=twitter:description content="PHP7 release也一段時間了,最近在開發常會看到相關的文章,最近抽個空好好來重新學習PHP."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Relearn PHP","name":"Relearn PHP","description":"PHP7 release也一段時間了,最近在開發常會看到相關的文章,最近抽個空好好來重新學習PHP.\n","keywords":["php"],"articleBody":"PHP7 release也一段時間了,最近在開發常會看到相關的文章,最近抽個空好好來重新學習PHP.\nPreface “PHP: Hypertext Preprocessor”,官方網站表明PHP很適合做web development,但是並不局限於此,亦可做Process Control,但是依據個人經驗,PHP5.3以下的版本做浮點數的運算不是很精準.\n另外在2015年PHP7問世,效率更是翻倍,但是有著相容性問題,系統升級前需要做好測試.\n環境建置 採用Virtualbox+Vagrant來架設環境,執行步驟如下:\n安裝Virtualbox與Vagrant,這邊就不講解了,幾本上下一步到底\n下載Vagrant box\n$ vagrant box add rasmus/php7dev $ vagrant init rasmus/php7dev # 確認box list $ vagrant box list git clone\ngit clone https://github.com/rlerdorf/php7dev.git cd php7dev 共享目錄設定,編輯php7dev.yaml檔案\nfolders: - map: www to: /var/www/default 啟動VM、進入VM、暫停VM、註銷VM\n# 啟動VM $ vagrnat up # 進入VM $ vagrant ssh # 暫停VM $ vagrant halt # 註銷VM $ vagrant destroy --force 建立檔案\n# 建立一個 index.php 檔案, 運行可以顯示 PHP 資訊 $ echo \"\u003c?php echo phpinfo(); ?\u003e\" \u003e /var/www/default/index.php 環境建立完成,再來可以透過Browser輸入http://192.168.7.7/來進入站台.\nType PHP是屬於弱型別的語言,也就是變數不用宣告就直接可以做assign,但是資料型態還是程式語言的重點基礎之一,還是要好好的認識一下.\nBoolean:通常是一個常量true或false,不區分大小寫.\n$var1 = true; $var2 = False; Integer:是一個有限整數((2^32)-1),集合中的某個數Z = {…, -2, -1, 0, 1, 2, …}\n//自PHP5.4.0後可以採用十進制、十六進制、八進制、二進制 $var = 1234; //十進制 $var = -123; //負數 $var = 0123; //八進制 $var = 0x1A; //十六進制 $var = 0b11111111; //二進制 Float:也就是小數,長度取決於平台. 另外不要相信浮點數結果精確到了最後一位,也永遠不要比較兩個浮點數是否相等,如果確實需要更高的精度,應該使用任意精度數學函數或者gmp函數.\n$var = 1.23456789; String:每個字都是由一系列的character(字元)組成(字的編碼),每個字元相當於一個byte(2^8),也就是說PHP只支援到256-character,因此不支援Unicode(因為過長).\n$name = 'ting'; $var = 'my name is $name'; //全視為為字串 $var = \"my name is $name\"; //對$name進行解析 //Heredoc結構,自PHP5.3起,會對變數進行解析 $var = \u003c\u003c\u003cEOT my name is $name EOT; //newcode結構,全視為字串,不對變數進行解析 $var = \u003c\u003c\u003c'EOT' my name is $name EOT; Array:是一組有序映射,官網說\"it can be treated as an array, list (vector), hash table (an implementation of a map), dictionary, collection, stack, queue, and probably more.\",由此可見他的功能很廣.\n$array = array( \"foo\" =\u003e \"bar\", ); // 自 PHP 5.4 起 $array = [ \"foo\" =\u003e \"bar\", ]; Object:物件.\nclass foo { function do_foo() { echo \"Doing foo.\"; } } $bar = new foo; $bar-\u003edo_foo(); Resource:資源,通常可能是連接資料庫、開啟文件.\nNULL:指一個變數還未被assign,或著被釋放\n$var = NULL; Callback\nerror_reporting(E_ALL); function increment(\u0026$var) { $var++; } $a = 0; call_user_func('increment', $a); echo $a.\"\\n\"; call_user_func_array('increment', array(\u0026$a)); echo $a.\"\\n\"; Variables 變數的命名很重要,程式要寫的漂亮的重點之一就是變數的命名.\n基本變數:PHP中宣告變數是使用符號*$*後面再跟上’^[a-zA-Z][_]?[\\x7f-\\xff][a-zA-Z0-9_\\x7f-\\xff]*’,且命名是有大小寫的區別.\n$var = 'Bob'; $bar = \u0026$var; //$bar被assign變數$var,且記憶體位置相同 全域變數與區域變數\n$a = 1; function Test() { global $a; $b = 2; echo ($a+$b); } echo $b; //Undefined variable Test(); Static variable:靜態變數只會在函數中出現,當程序離開函式,其值不丟失.從下面範例可以發現,在$b被宣告時,都還是NULL的狀態,宣告後才會取回值.\nfunction Test() { var_dump($b); static $b = 0; var_dump($b); echo (++$b); } Test(); Variable variables:變數的名稱也是變數,這樣的特性讓程式變得更彈性.\n$a = 'hello'; $hello = 'world'; $world = 'a'; echo $a.''; echo $$a.''; echo $$$a.''; echo \"$a ${$a} \"; echo \"$a $hello \"; Constants 常量定義好後,就無法變更,且長量名稱區分大小寫.\ndefine(\"version\",\"0.1\"); //magic constants function a(){ echo __function__; } function b(){ echo __function__; } echo a(); echo b(); Operators 運算子有先後順序,個人習慣將運算子拆開,一來確保程式的穩定度,二來增加程式的可讀性\n$a = true ? 0 : true ? 1 : 2; // (true ? 0 : true) ? 1 : 2 = 2 $a = 1; $b = 2; $a = $b += 3; // $a = ($b += 3) -\u003e $a = 5, $b = 5 算數運算子\necho (5 + 3).\"\\n\"; //prints 8 echo (5 - 3).\"\\n\"; //prints 2 echo (5 * 3).\"\\n\"; //prints 15 echo (15 / 3).\"\\n\"; //prints 5 echo (5 % 3).\"\\n\"; //prints 2 echo (5 3).\"\\n\"; //prints 125 位元運算子\necho 0b0010 \u0026 0b0010; //print 2 echo 0b0010 | 0b0010; //print 2 echo 0b0010 ^ 0b0011; //print 1 echo ~0b0101; //print -6 echo 0b0010 \u003e\u003e 1; //print 1 echo 0b0010 \u003c\u003c 1; //print 4 比較運算子\nvar_dump(0 == \"a\"); //0 == 0 -\u003e true var_dump(\"1\" == \"01\"); //1 == 1 -\u003e true var_dump(\"10\" == \"1e1\"); //10 == 10 -\u003e true var_dump(100 == \"1e2\"); //100 == 100 -\u003e true var_dump(\"1e1\"); //string '1e1' 錯誤控制運算子\n@include('./not_exist_file.php'); $x = @$a[\"name\"]; Execution Operators:以前都用exec(),這個好方便\n$mkdir = `mkdir new floder`; $output = `ls -al`; echo \"$output\"; 遞增/遞減運算子\n$a = 5; echo $a++.\"\n\"; //print 5 echo ++$a.\"\n\"; //print 7 echo $a--.\"\n\"; //print 7 echo --$a.\"\n\"; //print 5 Logical Operators\n//\"||\" 比 \"or\" 的優先级高,\"\u0026\u0026\" 比 \"and\" 的優先级高 $e = false || true; //bool(true),等同于：($e = (false || true)) $f = false or true; //bool(false),等同于：(($f = false) or true) $g = true \u0026\u0026 false; //bool(false),等同于：($g = (true \u0026\u0026 false)) $h = true and false; //bool(true),等同于：(($h = true) and false) String Operators\n$a = \"Hello \"; $b = $a . \"World!\"; // now $b contains \"Hello World!\" $a = \"Hello \"; $a .= \"World!\"; // now $a contains \"Hello World!\" Array Operators\n$a = array(\"a\" =\u003e \"apple\", \"b\" =\u003e \"banana\"); $b = array(\"a\" =\u003e \"pear\", \"b\" =\u003e \"strawberry\", \"c\" =\u003e \"cherry\"); $c = $a + $b; // Union of $a and $b var_dump($c); // print array(3) {[\"a\"]=\u003e\"apple\",[\"b\"]=\u003e\"banana\",[\"c\"]=\u003e\"cherry\"} Type Operators\nclass ParentClass{} class MyClass extends ParentClass{} $a = new MyClass; var_dump($a instanceof MyClass); //bool(true) var_dump($a instanceof ParentClass); //bool(true) Control Structures 通常要呈現一個商業邏輯都會透過流程控制來表示,而每種商業邏輯呈現的方法百百種,所以要築構一支好的程式,對流程控制的熟悉度不可少.\nif else\nif ($a \u003e $b): echo \"a is bigger than b\"; elseif ($a \u003c $b): echo \"a is smaller than b\"; else: echo \"a is equal b\"; endif while:循環語法之一,在遞迴中很好用\nwhile ($i \u003c= 10): echo $i++; endwhile do-while:跟while很像,差異在於while在執行前做判斷,do-while在執行後做判斷.\ndo { echo $i; } while ($i \u003c= 10); for\nfor (;;): if ($i \u003e 10): break; endif; echo $i; $i++; endfor; foreach:用來解構array很好用\nforeach (array(1, 2, 3, 4) as $value): $value = $value * 2; endforeach; break\n$arr = array('one', 'two', 'three', 'four', 'stop', 'five'); while (list (, $val) = each($arr)) { if ($val == 'stop') { break; /* You could also write 'break 1;' here. */ } echo \"$val\n\\n\"; } continue\nfor ($i = 0; $i \u003c 5; ++$i) { if ($i == 2) continue; print \"$i\\n\"; } switch:在做Boolean值判斷的時候建議使用if else,若做值得判斷則可使用switch\nswitch ($i) { case 0: echo \"i equals 0\"; break; case 1: case 2: echo \"i equals to 1, 2\"; break; default: echo \"i is not equal to 0, 1 or 2\"; } declare:Zend引擎每執行1條低級語句就去執行一次register_tick_function()注冊的函數\ndeclare(ticks=1); // A function called on each tick event function tick_handler() { echo \"tick_handler() called\\n\"; } register_tick_function('tick_handler'); $a = 1; if ($a \u003e 0) { $a += 2; print($a); } return:如果在全局範圍中調用,則當前腳本文件中止運行.\nrequire/include/require_once/include_once\nrequire('somefile.php'); //若找不到檔案發出E_COMPILE_ERROR级别錯誤,並終止程序 include('somefile.php'); //若找不到檔案發出E_WARNING级别錯誤,繼續程序 require_once('somefile.php'); //和require一樣,但已經包含過的檔案則不會再包含 include_once('somefile.php'); //和include一樣,但已經包含過的檔案則不會再包含 goto:只在PHP 5.3以上版本有效,跳轉至改文件的目標.目標位置只能位於同一個文件和作用域,也就是說無法跳出一個函數或類方法,也無法跳入到另一個函數.也無法跳入到任何循環或者switch結構中.可以跳出循環或者switch,通常的用法是用goto代替多層的break.\n//下面結果輸出Bar goto a; echo 'Foo'; a: echo 'Bar'; Function 這邊要注意部分預設函式是跟著extension加載的,例如mysql_connect()、imagecreatetruecolor()等,所以必須知道自己的環境是否有這些extension,可以用phpinfo()或get_loaded_extensions()來查詢. 函數名稱的命名很重要,好的命名可以讓程式可讀性提升,更好維護.\nUser-defined functions\nfunction sum($a, $b): float { return $a + $b; } Variable functions\nfunction foo() { echo \"In foo()\n\\n\"; } $func = 'foo'; $func(); //This calls foo() Anonymous functions\necho preg_replace_callback('~-([a-z])~', function ($match) { return strtoupper($match[1]); }, 'hello-world'); Classes and Objects 自從PHP5後的版本有著較好的效能與功能\nclass:每個類別都有自己的constants、variables與function,並且可使用$this來調用自己.\nclass SimpleClass { // property declaration public $var = 'a default value'; // method declaration public function displayVar() { echo $this-\u003evar; } } Object Assignment:宣告物件的兩種方式.\nClass Object{ public $foo=\"bar\"; }; $objectVar = new Object(); $reference =\u0026 $objectVar; $assignment = $objectVar; $objectVar=null; var_dump($objectVar); //NULL var_dump($reference); //NULL,指向同樣的記憶體,所以$objectVar=null被註銷時,一併註銷 var_dump($assignment); //object(Object),被clone extends:一個class可以申明繼承另一個class的方法與屬性,不支援多個繼承.可以使用同名稱覆蓋父類別的方法,但是父類別使用final,則不能被覆蓋.被覆蓋的方法或屬性,可以透過parent::來訪問.\nclass ExtendClass extends SimpleClass { // Redefine the parent method function displayVar() { echo \"Extending class\\n\"; parent::displayVar(); } } Properties,類別的成員.\nclass SimpleClass { public $var1 = (1+2); public $var2 = myConstant; public $var3 = array(true, false); } Class Constants:在類別中不變的值.\nclass MyClass { const constant = 'constant value'; function showConstant() { echo self::constant . \"\\n\"; } } Autoloading Classes:可以不用透過include檔案來加載類別,可以透過__autoload()或spl_autoload_register() 函数自動註冊類別.\nspl_autoload_register(function ($class_name) { require_once $class_name . '.php'; }); $obj = new MyClass1(); $obj2 = new MyClass2(); Constructors and Destructors,在創建時會先調用__construct,註銷或程序結束時會調用__destruct.\nclass MyDestructableClass { function __construct() { print \"In constructor\\n\"; $this-\u003ename = \"MyDestructableClass\"; } function __destruct() { print \"Destroying \" . $this-\u003ename . \"\\n\"; } } $obj = new MyDestructableClass(); unset($obj); Visibility:包含public、protected、private.\nclass MyClass { public $public = 'Public'; protected $protected = 'Protected'; private $private = 'Private'; function printHello() { echo $this-\u003epublic; echo $this-\u003eprotected; echo $this-\u003eprivate; } } $obj = new MyClass(); echo $obj-\u003epublic; //public echo $obj-\u003eprotected; //產生錯誤 echo $obj-\u003eprivate; //產生錯誤 $obj-\u003eprintHello(); //印出Public、Protected和Private Scope Resolution Operator(::):用於訪問類別的靜態成員、常量或函式.\nclass MyClass { const CONST_VALUE = 'A constant value'; } echo MyClass::CONST_VALUE; Class Abstraction:繼承抽象類別的子類別,強制要求一定要有父類別定義的抽象函式的實作.這樣的好處是統一子類別中的實作格式.\nabstract class AbstractClass { //抽象方法僅需要定義需要的参数 abstract protected function prefixName($name); } class ConcreteClass extends AbstractClass { //子類別可以定義父類別抽象方法中不存在的可選参数 public function prefixName($name, $separator = \".\") { if ($name == \"Pacman\") { $prefix = \"Mr\"; } elseif ($name == \"Pacwoman\") { $prefix = \"Mrs\"; } else { $prefix = \"\"; } return \"{$prefix}{$separator} {$name}\"; } } $class = new ConcreteClass; echo $class-\u003eprefixName(\"Pacman\"), \"\\n\"; //Mr. Pacman echo $class-\u003eprefixName(\"Pacwoman\"), \"\\n\"; //Mrs. Pacwoman Object Interfaces,透過implements導入多個介面接口,只能定義方法,但不能實作.\ninterface iTemplate { public function setVariable($name, $var); public function getHtml($template); } class Template implements iTemplate { private $vars = array(); public function setVariable($name, $var) { $this-\u003evars[$name] = $var; } public function getHtml($template) { foreach($this-\u003evars as $name =\u003e $value) { $template = str_replace('{' . $name . '}', $value, $template); } return $template; } } Class Abstraction(抽象類別)與Object Interfaces(介面)的差異性如下面表格.\n類別(Class) 抽象類別(Abstract Class) 介面(Interface) 宣告屬性(attribute) O O X 常數(const) O O O 實例化(new class) O X X 抽象方法(abstract function) X O O 實作方法內容(functoin()) O O X 類別是否可繼承多個 X X O Trait:自PHP5.4.0起可使用.介於繼承與介面之間的功能,可以參考Trait.\ntrait PrivateTrait { private privateFunc() { echo \"This is private\"; } } class PrivateClass { use privateTrait; // This is allowed. public publicFunc() { $this-\u003eprivateFunc(); } } Anonymous classes.PHP7開始支持匿名類別.匿名類別可以創建一次性的簡單對象.\nOverloading:動態創建成員與方法.\npublic void __set ( string $name , mixed $value ) public mixed __get ( string $name ) public bool __isset ( string $name ) public void __unset ( string $name ) class PropertyTest { private $data = array(); public $declared = 1; private $hidden = 2; public function __set($name, $value) { $this-\u003edata[$name] = $value; } public function __get($name) { if (array_key_exists($name, $this-\u003edata)) { return $this-\u003edata[$name]; } $trace = debug_backtrace(); trigger_error( 'Undefined property via __get(): ' . $name . ' in ' . $trace[0]['file'] . ' on line ' . $trace[0]['line'], E_USER_NOTICE); return null; } public function __isset($name) { return isset($this-\u003edata[$name]); } public function __unset($name) { unset($this-\u003edata[$name]); } public function getHidden() { return $this-\u003ehidden; } } $obj = new PropertyTest; $obj-\u003ea = 1; echo $obj-\u003ea; //1 var_dump(isset($obj-\u003ea)); //true unset($obj-\u003ea); var_dump(isset($obj-\u003ea)); //false Magic Methods\n__sleep() __wakeup() __construct() __destruct() __call() __callStatic() __get() __set() __isset() __unset() __sleep() __wakeup() __toString() __invoke() __set_state() __clone() __debugInfo() ","wordCount":"4532","inLanguage":"en","datePublished":"2017-12-21T00:00:00+08:00","dateModified":"2017-12-21T00:00:00+08:00","author":{"@type":"Person","name":"Chiehting"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://chiehting.com/posts/php7-document/"},"publisher":{"@type":"Organization","name":"Chiehting's Blog","description":"This website is preview about Chiehting. irregular update.","logo":{"@type":"ImageObject","url":"https://chiehting.com/favicon.ico"}}}</script><title>Relearn PHP</title><link rel="stylesheet dns-prefetch preconnect preload prefetch" as=style media=screen href=https://chiehting.com/css/style.min.4a728eca217aff37d24d94ea492de99e69fea0a53bb05c836db76b9d0504ef60.css integrity="sha256-SnKOyiF6/zfSTZTqSS3pnmn+oKU7sFyDbbdrnQUE72A=" crossorigin=anonymous></head><body id=page><header id=site-header class="animated slideInUp"><div class="hdr-wrapper section-inner"><div class=hdr-left><div class=site-branding><a href=https://chiehting.com/>Chiehting's Blog</a></div><nav class="site-nav hide-in-mobile"><a href=https://chiehting.com/posts/>Posts</a><a href=https://chiehting.com/about/>About</a></nav></div><div class="hdr-right hdr-icons"><span class="hdr-links hide-in-mobile"><a href=ting911111@gmail.com target=_blank rel="noopener me" title=Email><svg class="feather" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4 4h16c1.1.0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1.0-2-.9-2-2V6c0-1.1.9-2 2-2z"/><polyline points="22,6 12,13 2,6"/></svg></a><a href=https://github.com/chiehting target=_blank rel="noopener me" title=Github><svg class="feather" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37.0 00-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44.0 0020 4.77 5.07 5.07.0 0019.91 1S18.73.65 16 2.48a13.38 13.38.0 00-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07.0 005 4.77 5.44 5.44.0 003.5 8.55c0 5.42 3.3 6.61 6.44 7A3.37 3.37.0 009 18.13V22"/></svg></a></span><button id=menu-btn class=hdr-btn title=Menu><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"><line x1="3" y1="12" x2="21" y2="12"/><line x1="3" y1="6" x2="21" y2="6"/><line x1="3" y1="18" x2="21" y2="18"/></svg></button></div></div></header><div id=mobile-menu class="animated fast"><ul><li><a href=https://chiehting.com/posts/>Posts</a></li><li><a href=https://chiehting.com/about/>About</a></li></ul></div><main class="site-main section-inner thin animated fadeIn faster"><h1>Relearn PHP</h1><div class=content><p>PHP7 release也一段時間了,最近在開發常會看到相關的文章,最近抽個空好好來重新學習PHP.</p><h2 id=preface>Preface<a href=#preface class=anchor aria-hidden=true><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 7h3a5 5 0 015 5 5 5 0 01-5 5h-3m-6 0H6a5 5 0 01-5-5 5 5 0 015-5h3"/><line x1="8" y1="12" x2="16" y2="12"/></svg></a></h2><p>&ldquo;PHP: Hypertext Preprocessor&rdquo;,官方網站表明PHP很適合做web development,但是並不局限於此,亦可做Process Control,但是依據個人經驗,PHP5.3以下的版本做浮點數的運算不是很精準.</p><p>另外在2015年PHP7問世,效率更是翻倍,但是有著相容性問題,系統升級前需要做好測試.</p><h2 id=環境建置>環境建置<a href=#%e7%92%b0%e5%a2%83%e5%bb%ba%e7%bd%ae class=anchor aria-hidden=true><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 7h3a5 5 0 015 5 5 5 0 01-5 5h-3m-6 0H6a5 5 0 01-5-5 5 5 0 015-5h3"/><line x1="8" y1="12" x2="16" y2="12"/></svg></a></h2><p>採用<a href=https://www.virtualbox.org/>Virtualbox</a>+<a href=https://www.vagrantup.com/>Vagrant</a>來架設環境,執行步驟如下:</p><ol><li><p>安裝Virtualbox與Vagrant,這邊就不講解了,幾本上下一步到底</p></li><li><p>下載Vagrant box</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ vagrant box add rasmus/php7dev
</span></span><span class=line><span class=cl>$ vagrant init rasmus/php7dev
</span></span><span class=line><span class=cl><span class=c1># 確認box list</span>
</span></span><span class=line><span class=cl>$ vagrant box list
</span></span></code></pre></div></li><li><p>git clone</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>git clone https://github.com/rlerdorf/php7dev.git
</span></span><span class=line><span class=cl><span class=nb>cd</span> php7dev
</span></span></code></pre></div></li><li><p>共享目錄設定,編輯php7dev.yaml檔案</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>folders</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span>- <span class=nt>map</span><span class=p>:</span><span class=w> </span><span class=l>www</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>to</span><span class=p>:</span><span class=w> </span><span class=l>/var/www/default</span><span class=w>
</span></span></span></code></pre></div></li><li><p>啟動VM、進入VM、暫停VM、註銷VM</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># 啟動VM</span>
</span></span><span class=line><span class=cl>$ vagrnat up
</span></span><span class=line><span class=cl><span class=c1># 進入VM</span>
</span></span><span class=line><span class=cl>$ vagrant ssh
</span></span><span class=line><span class=cl><span class=c1># 暫停VM</span>
</span></span><span class=line><span class=cl>$ vagrant halt
</span></span><span class=line><span class=cl><span class=c1># 註銷VM</span>
</span></span><span class=line><span class=cl>$ vagrant destroy --force
</span></span></code></pre></div></li><li><p>建立檔案</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># 建立一個 index.php 檔案, 運行可以顯示 PHP 資訊</span>
</span></span><span class=line><span class=cl>$ <span class=nb>echo</span> <span class=s2>&#34;&lt;?php echo phpinfo(); ?&gt;&#34;</span> &gt; /var/www/default/index.php
</span></span></code></pre></div></li></ol><p>環境建立完成,再來可以透過Browser輸入<code>http://192.168.7.7/</code>來進入站台.</p><hr><h2 id=type>Type<a href=#type class=anchor aria-hidden=true><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 7h3a5 5 0 015 5 5 5 0 01-5 5h-3m-6 0H6a5 5 0 01-5-5 5 5 0 015-5h3"/><line x1="8" y1="12" x2="16" y2="12"/></svg></a></h2><p>PHP是屬於弱型別的語言,也就是變數不用宣告就直接可以做assign,但是資料型態還是程式語言的重點基礎之一,還是要好好的認識一下.</p><ul><li><p>Boolean:通常是一個常量<code>true</code>或<code>false</code>,不區分大小寫.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-php data-lang=php><span class=line><span class=cl><span class=nv>$var1</span> <span class=o>=</span> <span class=k>true</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=nv>$var2</span> <span class=o>=</span> <span class=k>False</span><span class=p>;</span>
</span></span></code></pre></div></li><li><p>Integer:是一個<em>有限整數</em>((2^32)-1),集合中的某個數Z = {&mldr;, -2, -1, 0, 1, 2, &mldr;}</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-php data-lang=php><span class=line><span class=cl><span class=c1>//自PHP5.4.0後可以採用十進制、十六進制、八進制、二進制
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nv>$var</span> <span class=o>=</span> <span class=mi>1234</span><span class=p>;</span> <span class=c1>//十進制
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nv>$var</span> <span class=o>=</span> <span class=o>-</span><span class=mi>123</span><span class=p>;</span> <span class=c1>//負數
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nv>$var</span> <span class=o>=</span> <span class=mo>0123</span><span class=p>;</span> <span class=c1>//八進制
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nv>$var</span> <span class=o>=</span> <span class=mh>0x1A</span><span class=p>;</span> <span class=c1>//十六進制
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nv>$var</span> <span class=o>=</span> <span class=mi>0</span><span class=nx>b11111111</span><span class=p>;</span> <span class=c1>//二進制
</span></span></span></code></pre></div></li><li><p>Float:也就是小數,長度取決於平台. 另外不要相信浮點數結果精確到了最後一位,也永遠不要比較兩個浮點數是否相等,如果確實需要更高的精度,應該使用<em>任意精度數學函數</em>或者<em>gmp函數</em>.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-php data-lang=php><span class=line><span class=cl><span class=nv>$var</span> <span class=o>=</span> <span class=mf>1.23456789</span><span class=p>;</span>
</span></span></code></pre></div></li><li><p>String:每個字都是由一系列的character(字元)組成(字的編碼),每個字元相當於一個byte(2^8),也就是說PHP只支援到256-character,因此不支援Unicode(因為過長).</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-php data-lang=php><span class=line><span class=cl><span class=nv>$name</span> <span class=o>=</span> <span class=s1>&#39;ting&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=nv>$var</span> <span class=o>=</span> <span class=s1>&#39;my name is $name&#39;</span><span class=p>;</span> <span class=c1>//全視為為字串
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nv>$var</span> <span class=o>=</span> <span class=s2>&#34;my name is </span><span class=si>$name</span><span class=s2>&#34;</span><span class=p>;</span> <span class=c1>//對$name進行解析
</span></span></span><span class=line><span class=cl><span class=c1>//Heredoc結構,自PHP5.3起,會對變數進行解析
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nv>$var</span> <span class=o>=</span> <span class=s>&lt;&lt;&lt;</span><span class=dl>EOT</span><span class=s>
</span></span></span><span class=line><span class=cl><span class=s>my name is $name
</span></span></span><span class=line><span class=cl><span class=s>    </span><span class=dl>EOT</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=c1>//newcode結構,全視為字串,不對變數進行解析
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nv>$var</span> <span class=o>=</span> <span class=s>&lt;&lt;&lt;&#39;</span><span class=dl>EOT</span><span class=s>&#39;
</span></span></span><span class=line><span class=cl><span class=s>my name is $name
</span></span></span><span class=line><span class=cl><span class=s>    </span><span class=dl>EOT</span><span class=p>;</span>
</span></span></code></pre></div></li><li><p>Array:是一組有序映射,官網說"it can be treated as an array, list (vector), hash table (an implementation of a map), dictionary, collection, stack, queue, and probably more.",由此可見他的功能很廣.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-php data-lang=php><span class=line><span class=cl><span class=nv>$array</span> <span class=o>=</span> <span class=k>array</span><span class=p>(</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;foo&#34;</span> <span class=o>=&gt;</span> <span class=s2>&#34;bar&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=c1>// 自 PHP 5.4 起
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nv>$array</span> <span class=o>=</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;foo&#34;</span> <span class=o>=&gt;</span> <span class=s2>&#34;bar&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl><span class=p>];</span>
</span></span></code></pre></div></li><li><p>Object:物件.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-php data-lang=php><span class=line><span class=cl><span class=k>class</span> <span class=nc>foo</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>function</span> <span class=nf>do_foo</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>echo</span> <span class=s2>&#34;Doing foo.&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=nv>$bar</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>foo</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=nv>$bar</span><span class=o>-&gt;</span><span class=na>do_foo</span><span class=p>();</span>
</span></span></code></pre></div></li><li><p>Resource:資源,通常可能是連接資料庫、開啟文件.</p></li><li><p>NULL:指一個變數還未被assign,或著被釋放</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-php data-lang=php><span class=line><span class=cl><span class=nv>$var</span> <span class=o>=</span> <span class=k>NULL</span><span class=p>;</span>
</span></span></code></pre></div></li><li><p>Callback</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-php data-lang=php><span class=line><span class=cl><span class=nx>error_reporting</span><span class=p>(</span><span class=k>E_ALL</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=k>function</span> <span class=nf>increment</span><span class=p>(</span><span class=o>&amp;</span><span class=nv>$var</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nv>$var</span><span class=o>++</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=nv>$a</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=nx>call_user_func</span><span class=p>(</span><span class=s1>&#39;increment&#39;</span><span class=p>,</span> <span class=nv>$a</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=k>echo</span> <span class=nv>$a</span><span class=o>.</span><span class=s2>&#34;</span><span class=se>\n</span><span class=s2>&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=nx>call_user_func_array</span><span class=p>(</span><span class=s1>&#39;increment&#39;</span><span class=p>,</span> <span class=k>array</span><span class=p>(</span><span class=o>&amp;</span><span class=nv>$a</span><span class=p>));</span>
</span></span><span class=line><span class=cl><span class=k>echo</span> <span class=nv>$a</span><span class=o>.</span><span class=s2>&#34;</span><span class=se>\n</span><span class=s2>&#34;</span><span class=p>;</span>
</span></span></code></pre></div></li></ul><hr><h2 id=variables>Variables<a href=#variables class=anchor aria-hidden=true><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 7h3a5 5 0 015 5 5 5 0 01-5 5h-3m-6 0H6a5 5 0 01-5-5 5 5 0 015-5h3"/><line x1="8" y1="12" x2="16" y2="12"/></svg></a></h2><p>變數的命名很重要,程式要寫的漂亮的重點之一就是變數的命名.</p><ol><li><p>基本變數:PHP中宣告變數是使用符號*$*後面再跟上&rsquo;^[a-zA-Z][_]?[\x7f-\xff][a-zA-Z0-9_\x7f-\xff]*&rsquo;,且命名是有大小寫的區別.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-php data-lang=php><span class=line><span class=cl><span class=nv>$var</span> <span class=o>=</span> <span class=s1>&#39;Bob&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=nv>$bar</span> <span class=o>=</span> <span class=o>&amp;</span><span class=nv>$var</span><span class=p>;</span> <span class=c1>//$bar被assign變數$var,且記憶體位置相同
</span></span></span></code></pre></div></li><li><p>全域變數與區域變數</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-php data-lang=php><span class=line><span class=cl><span class=nv>$a</span> <span class=o>=</span> <span class=mi>1</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>function</span> <span class=nf>Test</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>global</span> <span class=nv>$a</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=nv>$b</span> <span class=o>=</span> <span class=mi>2</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>echo</span> <span class=p>(</span><span class=nv>$a</span><span class=o>+</span><span class=nv>$b</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=k>echo</span> <span class=nv>$b</span><span class=p>;</span> <span class=c1>//Undefined variable
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>Test</span><span class=p>();</span>
</span></span></code></pre></div></li><li><p>Static variable:靜態變數只會在函數中出現,當程序離開函式,其值不丟失.從下面範例可以發現,在$b被宣告時,都還是NULL的狀態,宣告後才會取回值.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-php data-lang=php><span class=line><span class=cl><span class=k>function</span> <span class=nf>Test</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>var_dump</span><span class=p>(</span><span class=nv>$b</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=k>static</span>  <span class=nv>$b</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=nx>var_dump</span><span class=p>(</span><span class=nv>$b</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=k>echo</span> <span class=p>(</span><span class=o>++</span><span class=nv>$b</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=nx>Test</span><span class=p>();</span>
</span></span></code></pre></div></li><li><p>Variable variables:變數的名稱也是變數,這樣的特性讓程式變得更彈性.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-php data-lang=php><span class=line><span class=cl><span class=nv>$a</span> <span class=o>=</span> <span class=s1>&#39;hello&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=nv>$hello</span> <span class=o>=</span> <span class=s1>&#39;world&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=nv>$world</span> <span class=o>=</span> <span class=s1>&#39;a&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>echo</span> <span class=nv>$a</span><span class=o>.</span><span class=s1>&#39;&lt;br/&gt;&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>echo</span> <span class=nv>$$a</span><span class=o>.</span><span class=s1>&#39;&lt;br/&gt;&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>echo</span> <span class=nv>$$$a</span><span class=o>.</span><span class=s1>&#39;&lt;br/&gt;&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>echo</span> <span class=s2>&#34;</span><span class=si>$a</span><span class=s2> </span><span class=si>${</span><span class=nv>$a</span><span class=si>}</span><span class=s2> &lt;br/&gt;&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>echo</span> <span class=s2>&#34;</span><span class=si>$a</span><span class=s2> </span><span class=si>$hello</span><span class=s2> &lt;br/&gt;&#34;</span><span class=p>;</span>
</span></span></code></pre></div></li></ol><hr><h2 id=constants>Constants<a href=#constants class=anchor aria-hidden=true><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 7h3a5 5 0 015 5 5 5 0 01-5 5h-3m-6 0H6a5 5 0 01-5-5 5 5 0 015-5h3"/><line x1="8" y1="12" x2="16" y2="12"/></svg></a></h2><p>常量定義好後,就無法變更,且長量名稱區分大小寫.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-php data-lang=php><span class=line><span class=cl><span class=nx>define</span><span class=p>(</span><span class=s2>&#34;version&#34;</span><span class=p>,</span><span class=s2>&#34;0.1&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=c1>//magic constants
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>function</span> <span class=nf>a</span><span class=p>(){</span>
</span></span><span class=line><span class=cl>    <span class=k>echo</span> <span class=no>__function__</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=k>function</span> <span class=nf>b</span><span class=p>(){</span>
</span></span><span class=line><span class=cl>    <span class=k>echo</span> <span class=no>__function__</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=k>echo</span> <span class=nx>a</span><span class=p>();</span>
</span></span><span class=line><span class=cl><span class=k>echo</span> <span class=nx>b</span><span class=p>();</span>
</span></span></code></pre></div><hr><h2 id=operators>Operators<a href=#operators class=anchor aria-hidden=true><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 7h3a5 5 0 015 5 5 5 0 01-5 5h-3m-6 0H6a5 5 0 01-5-5 5 5 0 015-5h3"/><line x1="8" y1="12" x2="16" y2="12"/></svg></a></h2><p>運算子有先後順序,個人習慣將運算子拆開,一來確保程式的穩定度,二來增加程式的可讀性</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-php data-lang=php><span class=line><span class=cl><span class=nv>$a</span> <span class=o>=</span> <span class=k>true</span> <span class=o>?</span> <span class=mi>0</span> <span class=o>:</span> <span class=k>true</span> <span class=o>?</span> <span class=mi>1</span> <span class=o>:</span> <span class=mi>2</span><span class=p>;</span> <span class=c1>// (true ? 0 : true) ? 1 : 2 = 2
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nv>$a</span> <span class=o>=</span> <span class=mi>1</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=nv>$b</span> <span class=o>=</span> <span class=mi>2</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=nv>$a</span> <span class=o>=</span> <span class=nv>$b</span> <span class=o>+=</span> <span class=mi>3</span><span class=p>;</span> <span class=c1>// $a = ($b += 3) -&gt; $a = 5, $b = 5
</span></span></span></code></pre></div><ol><li><p>算數運算子</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-php data-lang=php><span class=line><span class=cl><span class=k>echo</span> <span class=p>(</span><span class=mi>5</span> <span class=o>+</span> <span class=mi>3</span><span class=p>)</span><span class=o>.</span><span class=s2>&#34;</span><span class=se>\n</span><span class=s2>&#34;</span><span class=p>;</span> <span class=c1>//prints 8
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>echo</span> <span class=p>(</span><span class=mi>5</span> <span class=o>-</span> <span class=mi>3</span><span class=p>)</span><span class=o>.</span><span class=s2>&#34;</span><span class=se>\n</span><span class=s2>&#34;</span><span class=p>;</span> <span class=c1>//prints 2
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>echo</span> <span class=p>(</span><span class=mi>5</span> <span class=o>*</span> <span class=mi>3</span><span class=p>)</span><span class=o>.</span><span class=s2>&#34;</span><span class=se>\n</span><span class=s2>&#34;</span><span class=p>;</span> <span class=c1>//prints 15
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>echo</span> <span class=p>(</span><span class=mi>15</span> <span class=o>/</span> <span class=mi>3</span><span class=p>)</span><span class=o>.</span><span class=s2>&#34;</span><span class=se>\n</span><span class=s2>&#34;</span><span class=p>;</span> <span class=c1>//prints 5
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>echo</span> <span class=p>(</span><span class=mi>5</span> <span class=o>%</span> <span class=mi>3</span><span class=p>)</span><span class=o>.</span><span class=s2>&#34;</span><span class=se>\n</span><span class=s2>&#34;</span><span class=p>;</span> <span class=c1>//prints 2
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>echo</span> <span class=p>(</span><span class=mi>5</span>  <span class=mi>3</span><span class=p>)</span><span class=o>.</span><span class=s2>&#34;</span><span class=se>\n</span><span class=s2>&#34;</span><span class=p>;</span> <span class=c1>//prints 125
</span></span></span></code></pre></div></li><li><p>位元運算子</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-php data-lang=php><span class=line><span class=cl><span class=k>echo</span> <span class=mi>0</span><span class=nx>b0010</span> <span class=o>&amp;</span> <span class=mi>0</span><span class=nx>b0010</span><span class=p>;</span> <span class=c1>//print 2
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>echo</span> <span class=mi>0</span><span class=nx>b0010</span> <span class=o>|</span> <span class=mi>0</span><span class=nx>b0010</span><span class=p>;</span> <span class=c1>//print 2
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>echo</span> <span class=mi>0</span><span class=nx>b0010</span> <span class=o>^</span> <span class=mi>0</span><span class=nx>b0011</span><span class=p>;</span> <span class=c1>//print 1
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>echo</span> <span class=o>~</span><span class=mi>0</span><span class=nx>b0101</span><span class=p>;</span> <span class=c1>//print -6
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>echo</span> <span class=mi>0</span><span class=nx>b0010</span> <span class=o>&gt;&gt;</span> <span class=mi>1</span><span class=p>;</span> <span class=c1>//print 1
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>echo</span> <span class=mi>0</span><span class=nx>b0010</span> <span class=o>&lt;&lt;</span> <span class=mi>1</span><span class=p>;</span> <span class=c1>//print 4
</span></span></span></code></pre></div></li><li><p>比較運算子</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-php data-lang=php><span class=line><span class=cl><span class=nx>var_dump</span><span class=p>(</span><span class=mi>0</span> <span class=o>==</span> <span class=s2>&#34;a&#34;</span><span class=p>);</span> <span class=c1>//0 == 0 -&gt; true
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>var_dump</span><span class=p>(</span><span class=s2>&#34;1&#34;</span> <span class=o>==</span> <span class=s2>&#34;01&#34;</span><span class=p>);</span> <span class=c1>//1 == 1 -&gt; true
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>var_dump</span><span class=p>(</span><span class=s2>&#34;10&#34;</span> <span class=o>==</span> <span class=s2>&#34;1e1&#34;</span><span class=p>);</span> <span class=c1>//10 == 10 -&gt; true
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>var_dump</span><span class=p>(</span><span class=mi>100</span> <span class=o>==</span> <span class=s2>&#34;1e2&#34;</span><span class=p>);</span> <span class=c1>//100 == 100 -&gt; true
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>var_dump</span><span class=p>(</span><span class=s2>&#34;1e1&#34;</span><span class=p>);</span> <span class=c1>//string &#39;1e1&#39;
</span></span></span></code></pre></div></li><li><p>錯誤控制運算子</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-php data-lang=php><span class=line><span class=cl><span class=o>@</span><span class=k>include</span><span class=p>(</span><span class=s1>&#39;./not_exist_file.php&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=nv>$x</span> <span class=o>=</span> <span class=o>@</span><span class=nv>$a</span><span class=p>[</span><span class=s2>&#34;name&#34;</span><span class=p>];</span>
</span></span></code></pre></div></li><li><p>Execution Operators:以前都用exec(),這個好方便</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-php data-lang=php><span class=line><span class=cl><span class=nv>$mkdir</span> <span class=o>=</span> <span class=sb>`mkdir new floder`</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=nv>$output</span> <span class=o>=</span> <span class=sb>`ls -al`</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>echo</span> <span class=s2>&#34;&lt;pre&gt;</span><span class=si>$output</span><span class=s2>&lt;/pre&gt;&#34;</span><span class=p>;</span>
</span></span></code></pre></div></li><li><p>遞增/遞減運算子</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-php data-lang=php><span class=line><span class=cl><span class=nv>$a</span> <span class=o>=</span> <span class=mi>5</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>echo</span> <span class=nv>$a</span><span class=o>++.</span><span class=s2>&#34;&lt;br /&gt;&#34;</span><span class=p>;</span> <span class=c1>//print 5
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>echo</span> <span class=o>++</span><span class=nv>$a</span><span class=o>.</span><span class=s2>&#34;&lt;br /&gt;&#34;</span><span class=p>;</span> <span class=c1>//print 7
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>echo</span> <span class=nv>$a</span><span class=o>--.</span><span class=s2>&#34;&lt;br /&gt;&#34;</span><span class=p>;</span> <span class=c1>//print 7
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>echo</span> <span class=o>--</span><span class=nv>$a</span><span class=o>.</span><span class=s2>&#34;&lt;br /&gt;&#34;</span><span class=p>;</span> <span class=c1>//print 5
</span></span></span></code></pre></div></li><li><p>Logical Operators</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-php data-lang=php><span class=line><span class=cl><span class=c1>//&#34;||&#34; 比 &#34;or&#34; 的優先级高,&#34;&amp;&amp;&#34; 比 &#34;and&#34; 的優先级高
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nv>$e</span> <span class=o>=</span> <span class=k>false</span> <span class=o>||</span> <span class=k>true</span><span class=p>;</span> <span class=c1>//bool(true),等同于：($e = (false || true))
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nv>$f</span> <span class=o>=</span> <span class=k>false</span> <span class=k>or</span> <span class=k>true</span><span class=p>;</span> <span class=c1>//bool(false),等同于：(($f = false) or true)
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nv>$g</span> <span class=o>=</span> <span class=k>true</span> <span class=o>&amp;&amp;</span> <span class=k>false</span><span class=p>;</span> <span class=c1>//bool(false),等同于：($g = (true &amp;&amp; false))
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nv>$h</span> <span class=o>=</span> <span class=k>true</span> <span class=k>and</span> <span class=k>false</span><span class=p>;</span> <span class=c1>//bool(true),等同于：(($h = true) and false)
</span></span></span></code></pre></div></li><li><p>String Operators</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-php data-lang=php><span class=line><span class=cl><span class=nv>$a</span> <span class=o>=</span> <span class=s2>&#34;Hello &#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=nv>$b</span> <span class=o>=</span> <span class=nv>$a</span> <span class=o>.</span> <span class=s2>&#34;World!&#34;</span><span class=p>;</span> <span class=c1>// now $b contains &#34;Hello World!&#34;
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nv>$a</span> <span class=o>=</span> <span class=s2>&#34;Hello &#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=nv>$a</span> <span class=o>.=</span> <span class=s2>&#34;World!&#34;</span><span class=p>;</span>     <span class=c1>// now $a contains &#34;Hello World!&#34;
</span></span></span></code></pre></div></li><li><p>Array Operators</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-php data-lang=php><span class=line><span class=cl><span class=nv>$a</span> <span class=o>=</span> <span class=k>array</span><span class=p>(</span><span class=s2>&#34;a&#34;</span> <span class=o>=&gt;</span> <span class=s2>&#34;apple&#34;</span><span class=p>,</span> <span class=s2>&#34;b&#34;</span> <span class=o>=&gt;</span> <span class=s2>&#34;banana&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=nv>$b</span> <span class=o>=</span> <span class=k>array</span><span class=p>(</span><span class=s2>&#34;a&#34;</span> <span class=o>=&gt;</span> <span class=s2>&#34;pear&#34;</span><span class=p>,</span> <span class=s2>&#34;b&#34;</span> <span class=o>=&gt;</span> <span class=s2>&#34;strawberry&#34;</span><span class=p>,</span> <span class=s2>&#34;c&#34;</span> <span class=o>=&gt;</span> <span class=s2>&#34;cherry&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=nv>$c</span> <span class=o>=</span> <span class=nv>$a</span> <span class=o>+</span> <span class=nv>$b</span><span class=p>;</span> <span class=c1>// Union of $a and $b
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>var_dump</span><span class=p>(</span><span class=nv>$c</span><span class=p>);</span> <span class=c1>// print array(3) {[&#34;a&#34;]=&gt;&#34;apple&#34;,[&#34;b&#34;]=&gt;&#34;banana&#34;,[&#34;c&#34;]=&gt;&#34;cherry&#34;}
</span></span></span></code></pre></div></li><li><p>Type Operators</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-php data-lang=php><span class=line><span class=cl><span class=k>class</span> <span class=nc>ParentClass</span><span class=p>{}</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>MyClass</span> <span class=k>extends</span> <span class=nx>ParentClass</span><span class=p>{}</span>
</span></span><span class=line><span class=cl><span class=nv>$a</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>MyClass</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=nx>var_dump</span><span class=p>(</span><span class=nv>$a</span> <span class=nx>instanceof</span> <span class=nx>MyClass</span><span class=p>);</span> <span class=c1>//bool(true)
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>var_dump</span><span class=p>(</span><span class=nv>$a</span> <span class=nx>instanceof</span> <span class=nx>ParentClass</span><span class=p>);</span> <span class=c1>//bool(true)
</span></span></span></code></pre></div></li></ol><hr><h2 id=control-structures>Control Structures<a href=#control-structures class=anchor aria-hidden=true><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 7h3a5 5 0 015 5 5 5 0 01-5 5h-3m-6 0H6a5 5 0 01-5-5 5 5 0 015-5h3"/><line x1="8" y1="12" x2="16" y2="12"/></svg></a></h2><p>通常要呈現一個商業邏輯都會透過流程控制來表示,而每種商業邏輯呈現的方法百百種,所以要築構一支好的程式,對流程控制的熟悉度不可少.</p><ol><li><p>if else</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-php data-lang=php><span class=line><span class=cl><span class=k>if</span> <span class=p>(</span><span class=nv>$a</span> <span class=o>&gt;</span> <span class=nv>$b</span><span class=p>)</span><span class=o>:</span>
</span></span><span class=line><span class=cl>    <span class=k>echo</span> <span class=s2>&#34;a is bigger than b&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>elseif</span> <span class=p>(</span><span class=nv>$a</span> <span class=o>&lt;</span> <span class=nv>$b</span><span class=p>)</span><span class=o>:</span>
</span></span><span class=line><span class=cl>    <span class=k>echo</span> <span class=s2>&#34;a is smaller than b&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>else</span><span class=o>:</span>
</span></span><span class=line><span class=cl>    <span class=k>echo</span> <span class=s2>&#34;a is equal b&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>endif</span>
</span></span></code></pre></div></li><li><p>while:循環語法之一,在遞迴中很好用</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-php data-lang=php><span class=line><span class=cl><span class=k>while</span> <span class=p>(</span><span class=nv>$i</span> <span class=o>&lt;=</span> <span class=mi>10</span><span class=p>)</span><span class=o>:</span>
</span></span><span class=line><span class=cl>    <span class=k>echo</span> <span class=nv>$i</span><span class=o>++</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>endwhile</span>
</span></span></code></pre></div></li><li><p>do-while:跟while很像,差異在於while在執行前做判斷,do-while在執行後做判斷.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-php data-lang=php><span class=line><span class=cl><span class=k>do</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>   <span class=k>echo</span> <span class=nv>$i</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span> <span class=k>while</span> <span class=p>(</span><span class=nv>$i</span> <span class=o>&lt;=</span> <span class=mi>10</span><span class=p>);</span>
</span></span></code></pre></div></li><li><p>for</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-php data-lang=php><span class=line><span class=cl><span class=k>for</span> <span class=p>(;;)</span><span class=o>:</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=p>(</span><span class=nv>$i</span> <span class=o>&gt;</span> <span class=mi>10</span><span class=p>)</span><span class=o>:</span>
</span></span><span class=line><span class=cl>        <span class=k>break</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>endif</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>echo</span> <span class=nv>$i</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=nv>$i</span><span class=o>++</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>endfor</span><span class=p>;</span>
</span></span></code></pre></div></li><li><p>foreach:用來解構array很好用</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-php data-lang=php><span class=line><span class=cl><span class=k>foreach</span> <span class=p>(</span><span class=k>array</span><span class=p>(</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>,</span> <span class=mi>4</span><span class=p>)</span> <span class=k>as</span> <span class=nv>$value</span><span class=p>)</span><span class=o>:</span>
</span></span><span class=line><span class=cl>    <span class=nv>$value</span> <span class=o>=</span> <span class=nv>$value</span> <span class=o>*</span> <span class=mi>2</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>endforeach</span><span class=p>;</span>
</span></span></code></pre></div></li><li><p>break</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-php data-lang=php><span class=line><span class=cl><span class=nv>$arr</span> <span class=o>=</span> <span class=k>array</span><span class=p>(</span><span class=s1>&#39;one&#39;</span><span class=p>,</span> <span class=s1>&#39;two&#39;</span><span class=p>,</span> <span class=s1>&#39;three&#39;</span><span class=p>,</span> <span class=s1>&#39;four&#39;</span><span class=p>,</span> <span class=s1>&#39;stop&#39;</span><span class=p>,</span> <span class=s1>&#39;five&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=k>while</span> <span class=p>(</span><span class=k>list</span> <span class=p>(,</span> <span class=nv>$val</span><span class=p>)</span> <span class=o>=</span> <span class=nx>each</span><span class=p>(</span><span class=nv>$arr</span><span class=p>))</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=p>(</span><span class=nv>$val</span> <span class=o>==</span> <span class=s1>&#39;stop&#39;</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>break</span><span class=p>;</span>    <span class=cm>/* You could also write &#39;break 1;&#39; here. */</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=k>echo</span> <span class=s2>&#34;</span><span class=si>$val</span><span class=s2>&lt;br /&gt;</span><span class=se>\n</span><span class=s2>&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div></li><li><p>continue</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-php data-lang=php><span class=line><span class=cl><span class=k>for</span> <span class=p>(</span><span class=nv>$i</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span> <span class=nv>$i</span> <span class=o>&lt;</span> <span class=mi>5</span><span class=p>;</span> <span class=o>++</span><span class=nv>$i</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=p>(</span><span class=nv>$i</span> <span class=o>==</span> <span class=mi>2</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>continue</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>print</span> <span class=s2>&#34;</span><span class=si>$i\n</span><span class=s2>&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div></li><li><p>switch:在做Boolean值判斷的時候建議使用if else,若做值得判斷則可使用switch</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-php data-lang=php><span class=line><span class=cl><span class=k>switch</span> <span class=p>(</span><span class=nv>$i</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>case</span> <span class=mi>0</span><span class=o>:</span>
</span></span><span class=line><span class=cl>        <span class=k>echo</span> <span class=s2>&#34;i equals 0&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=k>break</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>case</span> <span class=mi>1</span><span class=o>:</span>
</span></span><span class=line><span class=cl>    <span class=k>case</span> <span class=mi>2</span><span class=o>:</span>
</span></span><span class=line><span class=cl>        <span class=k>echo</span> <span class=s2>&#34;i equals to 1, 2&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=k>break</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>default</span><span class=o>:</span>
</span></span><span class=line><span class=cl>        <span class=k>echo</span> <span class=s2>&#34;i is not equal to 0, 1 or 2&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div></li><li><p>declare:Zend引擎每執行1條低級語句就去執行一次register_tick_function()注冊的函數</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-php data-lang=php><span class=line><span class=cl><span class=k>declare</span><span class=p>(</span><span class=nx>ticks</span><span class=o>=</span><span class=mi>1</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=c1>// A function called on each tick event
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>function</span> <span class=nf>tick_handler</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>echo</span> <span class=s2>&#34;tick_handler() called</span><span class=se>\n</span><span class=s2>&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=nx>register_tick_function</span><span class=p>(</span><span class=s1>&#39;tick_handler&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=nv>$a</span> <span class=o>=</span> <span class=mi>1</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=p>(</span><span class=nv>$a</span> <span class=o>&gt;</span> <span class=mi>0</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nv>$a</span> <span class=o>+=</span> <span class=mi>2</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>print</span><span class=p>(</span><span class=nv>$a</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div></li><li><p>return:如果在全局範圍中調用,則當前腳本文件中止運行.</p></li><li><p>require/include/require_once/include_once</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-php data-lang=php><span class=line><span class=cl><span class=k>require</span><span class=p>(</span><span class=s1>&#39;somefile.php&#39;</span><span class=p>);</span> <span class=c1>//若找不到檔案發出E_COMPILE_ERROR级别錯誤,並終止程序
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>include</span><span class=p>(</span><span class=s1>&#39;somefile.php&#39;</span><span class=p>);</span> <span class=c1>//若找不到檔案發出E_WARNING级别錯誤,繼續程序
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>require_once</span><span class=p>(</span><span class=s1>&#39;somefile.php&#39;</span><span class=p>);</span> <span class=c1>//和require一樣,但已經包含過的檔案則不會再包含
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>include_once</span><span class=p>(</span><span class=s1>&#39;somefile.php&#39;</span><span class=p>);</span> <span class=c1>//和include一樣,但已經包含過的檔案則不會再包含
</span></span></span></code></pre></div></li><li><p>goto:只在PHP 5.3以上版本有效,跳轉至改文件的目標.目標位置只能位於同一個文件和作用域,也就是說無法跳出一個函數或類方法,也無法跳入到另一個函數.也無法跳入到任何循環或者switch結構中.可以跳出循環或者switch,通常的用法是用goto代替多層的break.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-php data-lang=php><span class=line><span class=cl><span class=c1>//下面結果輸出Bar
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>goto</span> <span class=nx>a</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>echo</span> <span class=s1>&#39;Foo&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=nx>a</span><span class=o>:</span>
</span></span><span class=line><span class=cl><span class=k>echo</span> <span class=s1>&#39;Bar&#39;</span><span class=p>;</span>
</span></span></code></pre></div></li></ol><hr><h3 id=function>Function<a href=#function class=anchor aria-hidden=true><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 7h3a5 5 0 015 5 5 5 0 01-5 5h-3m-6 0H6a5 5 0 01-5-5 5 5 0 015-5h3"/><line x1="8" y1="12" x2="16" y2="12"/></svg></a></h3><p>這邊要注意部分預設函式是跟著extension加載的,例如mysql_connect()、imagecreatetruecolor()等,所以必須知道自己的環境是否有這些extension,可以用phpinfo()或get_loaded_extensions()來查詢.
函數名稱的命名很重要,好的命名可以讓程式可讀性提升,更好維護.</p><ol><li><p>User-defined functions</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-php data-lang=php><span class=line><span class=cl><span class=k>function</span> <span class=nf>sum</span><span class=p>(</span><span class=nv>$a</span><span class=p>,</span> <span class=nv>$b</span><span class=p>)</span><span class=o>:</span> <span class=nx>float</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=nv>$a</span> <span class=o>+</span> <span class=nv>$b</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div></li><li><p>Variable functions</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-php data-lang=php><span class=line><span class=cl><span class=k>function</span> <span class=nf>foo</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>echo</span> <span class=s2>&#34;In foo()&lt;br /&gt;</span><span class=se>\n</span><span class=s2>&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=nv>$func</span> <span class=o>=</span> <span class=s1>&#39;foo&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=nv>$func</span><span class=p>();</span> <span class=c1>//This calls foo()
</span></span></span></code></pre></div></li><li><p>Anonymous functions</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-php data-lang=php><span class=line><span class=cl><span class=k>echo</span> <span class=nx>preg_replace_callback</span><span class=p>(</span><span class=s1>&#39;~-([a-z])~&#39;</span><span class=p>,</span> <span class=k>function</span> <span class=p>(</span><span class=nv>$match</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=nx>strtoupper</span><span class=p>(</span><span class=nv>$match</span><span class=p>[</span><span class=mi>1</span><span class=p>]);</span>
</span></span><span class=line><span class=cl><span class=p>},</span> <span class=s1>&#39;hello-world&#39;</span><span class=p>);</span>
</span></span></code></pre></div></li></ol><hr><h3 id=classes-and-objects>Classes and Objects<a href=#classes-and-objects class=anchor aria-hidden=true><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 7h3a5 5 0 015 5 5 5 0 01-5 5h-3m-6 0H6a5 5 0 01-5-5 5 5 0 015-5h3"/><line x1="8" y1="12" x2="16" y2="12"/></svg></a></h3><p>自從PHP5後的版本有著較好的效能與功能</p><ol><li><p>class:每個類別都有自己的constants、variables與function,並且可使用$this來調用自己.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-php data-lang=php><span class=line><span class=cl><span class=k>class</span> <span class=nc>SimpleClass</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=c1>// property declaration
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=k>public</span> <span class=nv>$var</span> <span class=o>=</span> <span class=s1>&#39;a default value&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=c1>// method declaration
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=k>public</span> <span class=k>function</span> <span class=nf>displayVar</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>echo</span> <span class=nv>$this</span><span class=o>-&gt;</span><span class=na>var</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div></li><li><p>Object Assignment:宣告物件的兩種方式.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-php data-lang=php><span class=line><span class=cl><span class=k>Class</span> <span class=nc>Object</span><span class=p>{</span>
</span></span><span class=line><span class=cl>   <span class=k>public</span> <span class=nv>$foo</span><span class=o>=</span><span class=s2>&#34;bar&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>};</span>
</span></span><span class=line><span class=cl><span class=nv>$objectVar</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>Object</span><span class=p>();</span>
</span></span><span class=line><span class=cl><span class=nv>$reference</span> <span class=o>=&amp;</span> <span class=nv>$objectVar</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=nv>$assignment</span> <span class=o>=</span> <span class=nv>$objectVar</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=nv>$objectVar</span><span class=o>=</span><span class=k>null</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=nx>var_dump</span><span class=p>(</span><span class=nv>$objectVar</span><span class=p>);</span> <span class=c1>//NULL
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>var_dump</span><span class=p>(</span><span class=nv>$reference</span><span class=p>);</span> <span class=c1>//NULL,指向同樣的記憶體,所以$objectVar=null被註銷時,一併註銷
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>var_dump</span><span class=p>(</span><span class=nv>$assignment</span><span class=p>);</span> <span class=c1>//object(Object),被clone
</span></span></span></code></pre></div></li><li><p>extends:一個class可以申明繼承另一個class的方法與屬性,不支援多個繼承.可以使用同名稱覆蓋父類別的方法,但是父類別使用final,則不能被覆蓋.被覆蓋的方法或屬性,可以透過parent::來訪問.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-php data-lang=php><span class=line><span class=cl><span class=k>class</span> <span class=nc>ExtendClass</span> <span class=k>extends</span> <span class=nx>SimpleClass</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=c1>// Redefine the parent method
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=k>function</span> <span class=nf>displayVar</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>echo</span> <span class=s2>&#34;Extending class</span><span class=se>\n</span><span class=s2>&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=k>parent</span><span class=o>::</span><span class=na>displayVar</span><span class=p>();</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div></li><li><p>Properties,類別的成員.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-php data-lang=php><span class=line><span class=cl><span class=k>class</span> <span class=nc>SimpleClass</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>   <span class=k>public</span> <span class=nv>$var1</span> <span class=o>=</span> <span class=p>(</span><span class=mi>1</span><span class=o>+</span><span class=mi>2</span><span class=p>);</span>
</span></span><span class=line><span class=cl>   <span class=k>public</span> <span class=nv>$var2</span> <span class=o>=</span> <span class=nx>myConstant</span><span class=p>;</span>
</span></span><span class=line><span class=cl>   <span class=k>public</span> <span class=nv>$var3</span> <span class=o>=</span> <span class=k>array</span><span class=p>(</span><span class=k>true</span><span class=p>,</span> <span class=k>false</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div></li><li><p>Class Constants:在類別中不變的值.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-php data-lang=php><span class=line><span class=cl><span class=k>class</span> <span class=nc>MyClass</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>const</span> <span class=no>constant</span> <span class=o>=</span> <span class=s1>&#39;constant value&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>function</span> <span class=nf>showConstant</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>echo</span>  <span class=nx>self</span><span class=o>::</span><span class=na>constant</span> <span class=o>.</span> <span class=s2>&#34;</span><span class=se>\n</span><span class=s2>&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div></li><li><p>Autoloading Classes:可以不用透過include檔案來加載類別,可以透過__autoload()或spl_autoload_register() 函数自動註冊類別.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-php data-lang=php><span class=line><span class=cl><span class=nx>spl_autoload_register</span><span class=p>(</span><span class=k>function</span> <span class=p>(</span><span class=nv>$class_name</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>require_once</span> <span class=nv>$class_name</span> <span class=o>.</span> <span class=s1>&#39;.php&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>});</span>
</span></span><span class=line><span class=cl><span class=nv>$obj</span>  <span class=o>=</span> <span class=k>new</span> <span class=nx>MyClass1</span><span class=p>();</span>
</span></span><span class=line><span class=cl><span class=nv>$obj2</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>MyClass2</span><span class=p>();</span>
</span></span></code></pre></div></li><li><p>Constructors and Destructors,在創建時會先調用__construct,註銷或程序結束時會調用__destruct.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-php data-lang=php><span class=line><span class=cl><span class=k>class</span> <span class=nc>MyDestructableClass</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>   <span class=k>function</span> <span class=fm>__construct</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>       <span class=k>print</span> <span class=s2>&#34;In constructor</span><span class=se>\n</span><span class=s2>&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>       <span class=nv>$this</span><span class=o>-&gt;</span><span class=na>name</span> <span class=o>=</span> <span class=s2>&#34;MyDestructableClass&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>   <span class=p>}</span>
</span></span><span class=line><span class=cl>   <span class=k>function</span> <span class=fm>__destruct</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>       <span class=k>print</span> <span class=s2>&#34;Destroying &#34;</span> <span class=o>.</span> <span class=nv>$this</span><span class=o>-&gt;</span><span class=na>name</span> <span class=o>.</span> <span class=s2>&#34;</span><span class=se>\n</span><span class=s2>&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>   <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=nv>$obj</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>MyDestructableClass</span><span class=p>();</span>
</span></span><span class=line><span class=cl><span class=nx>unset</span><span class=p>(</span><span class=nv>$obj</span><span class=p>);</span>
</span></span></code></pre></div></li><li><p>Visibility:包含public、protected、private.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-php data-lang=php><span class=line><span class=cl><span class=k>class</span> <span class=nc>MyClass</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>public</span> <span class=nv>$public</span> <span class=o>=</span> <span class=s1>&#39;Public&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>protected</span> <span class=nv>$protected</span> <span class=o>=</span> <span class=s1>&#39;Protected&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>private</span> <span class=nv>$private</span> <span class=o>=</span> <span class=s1>&#39;Private&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>function</span> <span class=nf>printHello</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>echo</span> <span class=nv>$this</span><span class=o>-&gt;</span><span class=na>public</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=k>echo</span> <span class=nv>$this</span><span class=o>-&gt;</span><span class=na>protected</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=k>echo</span> <span class=nv>$this</span><span class=o>-&gt;</span><span class=na>private</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=nv>$obj</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>MyClass</span><span class=p>();</span>
</span></span><span class=line><span class=cl><span class=k>echo</span> <span class=nv>$obj</span><span class=o>-&gt;</span><span class=na>public</span><span class=p>;</span> <span class=c1>//public
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>echo</span> <span class=nv>$obj</span><span class=o>-&gt;</span><span class=na>protected</span><span class=p>;</span> <span class=c1>//產生錯誤
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>echo</span> <span class=nv>$obj</span><span class=o>-&gt;</span><span class=na>private</span><span class=p>;</span> <span class=c1>//產生錯誤
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nv>$obj</span><span class=o>-&gt;</span><span class=na>printHello</span><span class=p>();</span> <span class=c1>//印出Public、Protected和Private
</span></span></span></code></pre></div></li><li><p>Scope Resolution Operator(::):用於訪問類別的靜態成員、常量或函式.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-php data-lang=php><span class=line><span class=cl><span class=k>class</span> <span class=nc>MyClass</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>const</span> <span class=no>CONST_VALUE</span> <span class=o>=</span> <span class=s1>&#39;A constant value&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=k>echo</span> <span class=nx>MyClass</span><span class=o>::</span><span class=na>CONST_VALUE</span><span class=p>;</span>
</span></span></code></pre></div></li><li><p>Class Abstraction:繼承抽象類別的子類別,強制要求一定要有父類別定義的抽象函式的實作.這樣的好處是統一子類別中的實作格式.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-php data-lang=php><span class=line><span class=cl><span class=k>abstract</span> <span class=k>class</span> <span class=nc>AbstractClass</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=c1>//抽象方法僅需要定義需要的参数
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=k>abstract</span> <span class=k>protected</span> <span class=k>function</span> <span class=nf>prefixName</span><span class=p>(</span><span class=nv>$name</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>ConcreteClass</span> <span class=k>extends</span> <span class=nx>AbstractClass</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=c1>//子類別可以定義父類別抽象方法中不存在的可選参数
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=k>public</span> <span class=k>function</span> <span class=nf>prefixName</span><span class=p>(</span><span class=nv>$name</span><span class=p>,</span> <span class=nv>$separator</span> <span class=o>=</span> <span class=s2>&#34;.&#34;</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=p>(</span><span class=nv>$name</span> <span class=o>==</span> <span class=s2>&#34;Pacman&#34;</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=nv>$prefix</span> <span class=o>=</span> <span class=s2>&#34;Mr&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span> <span class=k>elseif</span> <span class=p>(</span><span class=nv>$name</span> <span class=o>==</span> <span class=s2>&#34;Pacwoman&#34;</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=nv>$prefix</span> <span class=o>=</span> <span class=s2>&#34;Mrs&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span> <span class=k>else</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=nv>$prefix</span> <span class=o>=</span> <span class=s2>&#34;&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=s2>&#34;</span><span class=si>{</span><span class=nv>$prefix</span><span class=si>}{</span><span class=nv>$separator</span><span class=si>}</span><span class=s2> </span><span class=si>{</span><span class=nv>$name</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=nv>$class</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>ConcreteClass</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>echo</span> <span class=nv>$class</span><span class=o>-&gt;</span><span class=na>prefixName</span><span class=p>(</span><span class=s2>&#34;Pacman&#34;</span><span class=p>),</span> <span class=s2>&#34;</span><span class=se>\n</span><span class=s2>&#34;</span><span class=p>;</span> <span class=c1>//Mr. Pacman
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>echo</span> <span class=nv>$class</span><span class=o>-&gt;</span><span class=na>prefixName</span><span class=p>(</span><span class=s2>&#34;Pacwoman&#34;</span><span class=p>),</span> <span class=s2>&#34;</span><span class=se>\n</span><span class=s2>&#34;</span><span class=p>;</span> <span class=c1>//Mrs. Pacwoman
</span></span></span></code></pre></div></li><li><p>Object Interfaces,透過implements導入多個介面接口,只能定義方法,但不能實作.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-php data-lang=php><span class=line><span class=cl><span class=k>interface</span> <span class=nx>iTemplate</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>public</span> <span class=k>function</span> <span class=nf>setVariable</span><span class=p>(</span><span class=nv>$name</span><span class=p>,</span> <span class=nv>$var</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=k>public</span> <span class=k>function</span> <span class=nf>getHtml</span><span class=p>(</span><span class=nv>$template</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>Template</span> <span class=k>implements</span> <span class=nx>iTemplate</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>private</span> <span class=nv>$vars</span> <span class=o>=</span> <span class=k>array</span><span class=p>();</span>
</span></span><span class=line><span class=cl>    <span class=k>public</span> <span class=k>function</span> <span class=nf>setVariable</span><span class=p>(</span><span class=nv>$name</span><span class=p>,</span> <span class=nv>$var</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nv>$this</span><span class=o>-&gt;</span><span class=na>vars</span><span class=p>[</span><span class=nv>$name</span><span class=p>]</span> <span class=o>=</span> <span class=nv>$var</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=k>public</span> <span class=k>function</span> <span class=nf>getHtml</span><span class=p>(</span><span class=nv>$template</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>foreach</span><span class=p>(</span><span class=nv>$this</span><span class=o>-&gt;</span><span class=na>vars</span> <span class=k>as</span> <span class=nv>$name</span> <span class=o>=&gt;</span> <span class=nv>$value</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=nv>$template</span> <span class=o>=</span> <span class=nx>str_replace</span><span class=p>(</span><span class=s1>&#39;{&#39;</span> <span class=o>.</span> <span class=nv>$name</span> <span class=o>.</span> <span class=s1>&#39;}&#39;</span><span class=p>,</span> <span class=nv>$value</span><span class=p>,</span> <span class=nv>$template</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=nv>$template</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div></li><li><p>Class Abstraction(抽象類別)與Object Interfaces(介面)的差異性如下面表格.</p><table><thead><tr><th style=text-align:left></th><th style=text-align:center>類別(Class)</th><th style=text-align:center>抽象類別(Abstract Class)</th><th style=text-align:right>介面(Interface)</th></tr></thead><tbody><tr><td style=text-align:left>宣告屬性(attribute)</td><td style=text-align:center>O</td><td style=text-align:center>O</td><td style=text-align:right>X</td></tr><tr><td style=text-align:left>常數(const)</td><td style=text-align:center>O</td><td style=text-align:center>O</td><td style=text-align:right>O</td></tr><tr><td style=text-align:left>實例化(new class)</td><td style=text-align:center>O</td><td style=text-align:center>X</td><td style=text-align:right>X</td></tr><tr><td style=text-align:left>抽象方法(abstract function)</td><td style=text-align:center>X</td><td style=text-align:center>O</td><td style=text-align:right>O</td></tr><tr><td style=text-align:left>實作方法內容(functoin())</td><td style=text-align:center>O</td><td style=text-align:center>O</td><td style=text-align:right>X</td></tr><tr><td style=text-align:left>類別是否可繼承多個</td><td style=text-align:center>X</td><td style=text-align:center>X</td><td style=text-align:right>O</td></tr></tbody></table></li><li><p>Trait:自PHP5.4.0起可使用.介於繼承與介面之間的功能,可以參考<a href=http://oomusou.io/php/php-trait/>Trait</a>.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-php data-lang=php><span class=line><span class=cl><span class=k>trait</span> <span class=nx>PrivateTrait</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>private</span> <span class=nx>privateFunc</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>echo</span> <span class=s2>&#34;This is private&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>PrivateClass</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>use</span> <span class=nx>privateTrait</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=c1>// This is allowed.
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=k>public</span> <span class=nx>publicFunc</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nv>$this</span><span class=o>-&gt;</span><span class=na>privateFunc</span><span class=p>();</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div></li><li><p>Anonymous classes.PHP7開始支持匿名類別.匿名類別可以創建一次性的簡單對象.</p></li><li><p>Overloading:動態創建成員與方法.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-php data-lang=php><span class=line><span class=cl><span class=k>public</span> <span class=nx>void</span> <span class=nx>__set</span> <span class=p>(</span> <span class=nx>string</span> <span class=nv>$name</span> <span class=p>,</span> <span class=nx>mixed</span> <span class=nv>$value</span> <span class=p>)</span>
</span></span><span class=line><span class=cl><span class=k>public</span> <span class=nx>mixed</span> <span class=nx>__get</span> <span class=p>(</span> <span class=nx>string</span> <span class=nv>$name</span> <span class=p>)</span>
</span></span><span class=line><span class=cl><span class=k>public</span> <span class=nx>bool</span> <span class=nx>__isset</span> <span class=p>(</span> <span class=nx>string</span> <span class=nv>$name</span> <span class=p>)</span>
</span></span><span class=line><span class=cl><span class=k>public</span> <span class=nx>void</span> <span class=nx>__unset</span> <span class=p>(</span> <span class=nx>string</span> <span class=nv>$name</span> <span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>PropertyTest</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>private</span> <span class=nv>$data</span> <span class=o>=</span> <span class=k>array</span><span class=p>();</span>
</span></span><span class=line><span class=cl>    <span class=k>public</span> <span class=nv>$declared</span> <span class=o>=</span> <span class=mi>1</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>private</span> <span class=nv>$hidden</span> <span class=o>=</span> <span class=mi>2</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>public</span> <span class=k>function</span> <span class=fm>__set</span><span class=p>(</span><span class=nv>$name</span><span class=p>,</span> <span class=nv>$value</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nv>$this</span><span class=o>-&gt;</span><span class=na>data</span><span class=p>[</span><span class=nv>$name</span><span class=p>]</span> <span class=o>=</span> <span class=nv>$value</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=k>public</span> <span class=k>function</span> <span class=fm>__get</span><span class=p>(</span><span class=nv>$name</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=p>(</span><span class=nx>array_key_exists</span><span class=p>(</span><span class=nv>$name</span><span class=p>,</span> <span class=nv>$this</span><span class=o>-&gt;</span><span class=na>data</span><span class=p>))</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=k>return</span> <span class=nv>$this</span><span class=o>-&gt;</span><span class=na>data</span><span class=p>[</span><span class=nv>$name</span><span class=p>];</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=nv>$trace</span> <span class=o>=</span> <span class=nx>debug_backtrace</span><span class=p>();</span>
</span></span><span class=line><span class=cl>        <span class=nx>trigger_error</span><span class=p>(</span>
</span></span><span class=line><span class=cl>            <span class=s1>&#39;Undefined property via __get(): &#39;</span> <span class=o>.</span> <span class=nv>$name</span> <span class=o>.</span>
</span></span><span class=line><span class=cl>            <span class=s1>&#39; in &#39;</span> <span class=o>.</span> <span class=nv>$trace</span><span class=p>[</span><span class=mi>0</span><span class=p>][</span><span class=s1>&#39;file&#39;</span><span class=p>]</span> <span class=o>.</span>
</span></span><span class=line><span class=cl>            <span class=s1>&#39; on line &#39;</span> <span class=o>.</span> <span class=nv>$trace</span><span class=p>[</span><span class=mi>0</span><span class=p>][</span><span class=s1>&#39;line&#39;</span><span class=p>],</span>
</span></span><span class=line><span class=cl>            <span class=nx>E_USER_NOTICE</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=k>null</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=k>public</span> <span class=k>function</span> <span class=fm>__isset</span><span class=p>(</span><span class=nv>$name</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=nx>isset</span><span class=p>(</span><span class=nv>$this</span><span class=o>-&gt;</span><span class=na>data</span><span class=p>[</span><span class=nv>$name</span><span class=p>]);</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=k>public</span> <span class=k>function</span> <span class=fm>__unset</span><span class=p>(</span><span class=nv>$name</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nx>unset</span><span class=p>(</span><span class=nv>$this</span><span class=o>-&gt;</span><span class=na>data</span><span class=p>[</span><span class=nv>$name</span><span class=p>]);</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=k>public</span> <span class=k>function</span> <span class=nf>getHidden</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=nv>$this</span><span class=o>-&gt;</span><span class=na>hidden</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=nv>$obj</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>PropertyTest</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=nv>$obj</span><span class=o>-&gt;</span><span class=na>a</span> <span class=o>=</span> <span class=mi>1</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>echo</span> <span class=nv>$obj</span><span class=o>-&gt;</span><span class=na>a</span><span class=p>;</span> <span class=c1>//1
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>var_dump</span><span class=p>(</span><span class=nx>isset</span><span class=p>(</span><span class=nv>$obj</span><span class=o>-&gt;</span><span class=na>a</span><span class=p>));</span> <span class=c1>//true
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>unset</span><span class=p>(</span><span class=nv>$obj</span><span class=o>-&gt;</span><span class=na>a</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=nx>var_dump</span><span class=p>(</span><span class=nx>isset</span><span class=p>(</span><span class=nv>$obj</span><span class=o>-&gt;</span><span class=na>a</span><span class=p>));</span> <span class=c1>//false
</span></span></span></code></pre></div></li><li><p>Magic Methods</p><ul><li>__sleep()</li><li>__wakeup()</li><li>__construct()</li><li>__destruct()</li><li>__call()</li><li>__callStatic()</li><li>__get()</li><li>__set()</li><li>__isset()</li><li>__unset()</li><li>__sleep()</li><li>__wakeup()</li><li>__toString()</li><li>__invoke()</li><li>__set_state()</li><li>__clone()</li><li>__debugInfo()</li></ul></li></ol></div><div class="human single"><a href=https://brainmade.org/ target=_blank rel="external noreferrer noopener"><abbr title="I don't hate AIs; but I love humans!"><svg fill="#fff" width="128" height="40" viewBox="0 0 128 40"><path d="M26.306 39.391H11.665a1.28 1.28.0 01-1.28-1.28v-3.838H6.399a1.28 1.28.0 01-1.28-1.28v-5.336l-4.41-2.198a1.28 1.28.0 01-.493-1.855l4.904-7.357v-2.175C5.12 6.298 11.422.0 19.194.0s14.073 6.3 14.075 14.071c-.316 13.912-5.38 11.758-5.59 17.023l-.093 7.018a1.3 1.3.0 01-.375.905 1.27 1.27.0 01-.905.375zm-13.361-2.559h12.082l.143-7.27c-.132-3.329 5.858-4.122 5.54-15.368-.179-6.356-5.157-11.635-11.515-11.635S7.68 7.713 7.679 14.071v2.559c-.001.253-.075.5-.215.71l-4.315 6.471 3.822 1.91a1.28 1.28.0 01.708 1.145v4.848h3.987a1.28 1.28.0 011.28 1.28z"/><path d="M20.186 29.111v-9.644c.059.0.118.009.177.009 4.885-.006 8.525-4.506 7.511-9.284a1.19 1.19.0 00-.911-.911 7.67 7.67.0 00-9.049 5.67l-.033-.036a7.66 7.66.0 00-7.03-2.085 1.19 1.19.0 00-.911.91c-1.014 4.777 2.627 9.277 7.51 9.284.118.0.246-.014.369-.02v6.106zm1.419-16.072a5.33 5.33.0 014.062-1.553 5.33 5.33.0 01-5.614 5.615 5.3 5.3.0 011.552-4.061zm-7.904 6.057a5.3 5.3.0 01-1.559-4.061 5.323 5.323.0 015.614 5.615 5.3 5.3.0 01-4.055-1.554m38.419-6.79q0 2.346-1.567 3.63-1.567 1.282-4.351 1.283h-7.669V0h7.016q2.807.0 4.242 1.1 1.446 1.087 1.446 3.226.0 1.467-.729 2.481-.718 1.002-2.197 1.357 1.86.244 2.828 1.32.979 1.063.979 2.823zm-4.112-7.491q0-1.161-.663-1.65-.652-.488-1.947-.488h-3.655v4.265h3.677q1.36.0 1.968-.525.62-.537.62-1.601m.892 7.209q0-2.42-3.089-2.42h-4.069v4.938h4.188q1.545.0 2.252-.624.718-.635.718-1.894m16.26 5.194-3.557-6.538h-3.764v6.538H54.63V0h7.658q2.741.0 4.231 1.332 1.49 1.32 1.49 3.8.0 1.808-.913 3.128-.914 1.308-2.47 1.723l4.144 7.235zm-.381-11.94q0-2.481-2.828-2.481h-4.112v5.083h4.199q1.349.0 2.045-.684.696-.685.696-1.919m16.785 11.94-1.36-4.399h-5.841l-1.359 4.399h-3.209L75.386.0h3.785l5.569 17.219zM77.278 2.651l-.066.269q-.109.44-.261 1.002c-.152.563-.725 2.436-1.871 6.184h4.405l-1.512-4.949-.468-1.662zm9.551 14.567V0h3.209v17.219zm15.53.0L95.681 3.959q.196 1.931.196 3.104v10.155h-2.849V0h3.666l6.777 13.37q-.196-1.846-.196-3.361V0h2.85v17.219zM52.63 39.375V28.331q.011-.351.115-3.015-.818 3.257-1.209 4.541l-2.925 9.518h-2.418l-2.925-9.518-1.232-4.541q.139 2.809.139 3.717v10.342h-3.017V22.313h4.548l2.902 9.543.253.92.553 2.289.725-2.736 2.983-10.015h4.526v17.063zm17.64.0-1.44-4.359h-6.184l-1.44 4.359h-3.397l5.919-17.063h4.007l5.896 17.063zm-4.537-14.434-.069.267q-.115.436-.277.993c-.162.557-.767 2.414-1.98 6.128h4.663l-1.601-4.905-.495-1.647zm24.577 5.776q0 2.64-.99 4.614-.979 1.961-2.787 3.003-1.796 1.042-4.122 1.042h-6.564V22.313h5.873q4.099.0 6.345 2.18 2.245 2.167 2.245 6.224m-3.42.0q0-2.748-1.359-4.19-1.359-1.453-3.881-1.453h-2.407v11.54h2.879q2.188.0 3.478-1.586t1.29-4.311m6 8.659V22.313h12.759v2.761h-9.362v4.287h8.66v2.761h-8.66v4.492h9.835v2.761zm15.75.0v-3.693h3.328v3.693zm12.445-12.149q2.082.0 3.662.781 1.58.78 2.422 2.235.833 1.454.833 3.393.0 2.98-1.845 4.676Q124.302 40 121.085 40q-3.208.0-5.005-1.688-1.798-1.688-1.798-4.695c0-3.007.606-3.57 1.817-4.694q1.817-1.696 4.986-1.696m0 2.702q-2.157.0-3.378.97-1.23.97-1.23 2.72.0 1.777 1.22 2.747 1.211.97 3.388.97 2.195.0 3.462-.988 1.258-.997 1.258-2.711.0-1.778-1.23-2.738-1.23-.97-3.491-.97m6.725-13.402-5.062 2.935v3.107h5.062v2.648h-13.331v-6.322q0-2.261 1.031-3.491 1.022-1.23 2.942-1.23 1.4.0 2.422.754 1.012.754 1.334 2.038l5.601-3.42zm-9.244.314q-1.92.0-1.921 2.334v3.393h3.936v-3.465q0-1.113-.53-1.688t-1.486-.575m7.249-10.915a6.5 6.5.0 00-.313-2.002q-.321-.969-.814-1.499h-1.845v3.088h-2.063V0h4.901q1.088 1.005 1.703 2.622a9.4 9.4.0 01.615 3.375q0 3.088-1.798 4.748-1.808 1.661-5.119 1.661-3.292.0-5.043-1.67-1.76-1.67-1.76-4.803.0-4.452 3.473-5.664l.776 2.442q-1.012.395-1.533 1.238-.52.844-.52 1.984.0 1.867 1.192 2.837t3.416.97q2.261.0 3.501-.997 1.23-1.005 1.23-2.818z"/></svg></abbr></a></div></main><footer id=site-footer class="section-inner thin animated fadeIn faster"><p>&copy; 2026 <a href=https://chiehting.com/>Chiehting's Blog</a>
&#183; Copyright © 2025 Chiehting Lee. All rights reserved.</p></footer><script async src=https://chiehting.com/js/bundle.min.217d62397cbef6f9f5d8bab30d7e7969d78c52a436ca5d5790cef4d6fef3f1f2.js integrity="sha256-IX1iOXy+9vn12LqzDX55adeMUqQ2yl1XkM701v7z8fI=" crossorigin=anonymous></script><script async src=https://chiehting.com/js/link-share.min.24409a4f6e5537d70ffc55ec8f9192208d718678cb8638585342423020b37f39.js integrity="sha256-JECaT25VN9cP/FXsj5GSII1xhnjLhjhYU0JCMCCzfzk=" crossorigin=anonymous></script></body></html>