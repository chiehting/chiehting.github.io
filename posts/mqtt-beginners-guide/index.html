<!doctype html><html lang=en-us><head><script async src="https://www.googletagmanager.com/gtag/js?id=G-G1C48BPHVP"></script><script>var dnt,doNotTrack=!1;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-G1C48BPHVP")}</script><meta charset=UTF-8><meta charset=utf-8><meta name=viewport content="width=device-width,user-scalable=no,initial-scale=1,maximum-scale=1,minimal-ui"><meta http-equiv=X-UA-Compatible content="ie=edge"><meta name=robots content="index, follow"><meta name=author content><meta name=description content="This website is preview about Chiehting. irregular update."><link rel=manifest href=/site.webmanifest><link rel=icon type=image/png sizes=96x96 href=/favicon-96x96.png><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><meta name=apple-mobile-web-app-title content="Chiehting's Blog"><meta name=theme-color content="#494f5c"><meta name=msapplication-TileColor content="#494f5c"><meta itemprop=name content="MQTT 初學指南"><meta itemprop=description content="本篇文章說明了 MQTT 的相關知識，包括起源、版本、資安, etc。MQTT 用於 IoT 訊息傳遞的服務，由 client 跟 brokers 的架構組成。由於用於 IoT 設備，所以通常硬件的資源有限，MQTT 輕量且穩定的好處就很適合。"><meta itemprop=datePublished content="2023-11-24T16:20:49+08:00"><meta itemprop=dateModified content="2023-11-24T16:20:49+08:00"><meta itemprop=wordCount content="1284"><meta itemprop=keywords content="Mqtt"><meta property="og:url" content="https://chiehting.com/posts/mqtt-beginners-guide/"><meta property="og:site_name" content="Chiehting's Blog"><meta property="og:title" content="MQTT 初學指南"><meta property="og:description" content="本篇文章說明了 MQTT 的相關知識，包括起源、版本、資安, etc。MQTT 用於 IoT 訊息傳遞的服務，由 client 跟 brokers 的架構組成。由於用於 IoT 設備，所以通常硬件的資源有限，MQTT 輕量且穩定的好處就很適合。"><meta property="og:locale" content="en_us"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2023-11-24T16:20:49+08:00"><meta property="article:modified_time" content="2023-11-24T16:20:49+08:00"><meta property="article:tag" content="Mqtt"><meta name=twitter:card content="summary"><meta name=twitter:title content="MQTT 初學指南"><meta name=twitter:description content="本篇文章說明了 MQTT 的相關知識，包括起源、版本、資安, etc。MQTT 用於 IoT 訊息傳遞的服務，由 client 跟 brokers 的架構組成。由於用於 IoT 設備，所以通常硬件的資源有限，MQTT 輕量且穩定的好處就很適合。"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"MQTT 初學指南","name":"MQTT 初學指南","description":"本篇文章說明了 MQTT 的相關知識，包括起源、版本、資安, etc。MQTT 用於 IoT 訊息傳遞的服務，由 client 跟 brokers 的架構組成。由於用於 IoT 設備，所以通常硬件的資源有限，MQTT 輕量且穩定的好處就很適合。\n","keywords":["mqtt"],"articleBody":"本篇文章說明了 MQTT 的相關知識，包括起源、版本、資安, etc。MQTT 用於 IoT 訊息傳遞的服務，由 client 跟 brokers 的架構組成。由於用於 IoT 設備，所以通常硬件的資源有限，MQTT 輕量且穩定的好處就很適合。\nReferences Beginners Guide To The MQTT Protocol\nMQTT Summary MQTT 是一個輕量且高效的訊息佇列遙測傳輸，常用於 IoT 系統。他是由 Andy Stanford-Clark (IBM) 和 Arlen Nipper 在 1999 年設計的，後來被 OASIS 在 2014 年標準化。\nMQTT 是讓兩的裝置可以透過 broker 進行交互溝通，例如 “智慧門鎖” 跟 “APP” 做訊息（開門、訪客, etc）的通知。\n目前 MQTT 的最新版本為 v5，是在 v3 的版本上做優化。但要使用 v5 版本必需要 broker 跟 client 都使用 v5 版本。所以目前主流的版本還是 v3.1.1。\n文章中也有列出一些常見的問題：\nQuestion Answer MQTT 可以不需要 broker 嗎？ 不行，必須要使用 brokers。因為 IoT 裝置上的限制。 MQTT 使用的 Protocol 是什麼？ MQTT 標準版本使用的是 TCP/IP 有可能從發布訊息中取得 client 的身份嗎？ 預設沒有這方面的資訊，除非在 topic or payload 中有配置。 要如何找出已經 published topics？ 無法容易地做到，因為 MQTT 不要長久地保持 published topics。 訊息會被保存在 borker 上嗎？ 會暫時的保存在 broker 上，等訊息被發出後就會拋棄。 Note 原文 :: Beginners Guide To The MQTT Protocol\nWhat is MQTT? MQTT is a lightweight publish/subscribe messaging protocol designed for M2M (machine to machine) telemetry in low bandwidth environments.\nIt was designed by Andy Stanford-Clark (IBM) and Arlen Nipper in 1999 for connecting Oil Pipeline telemetry systems over satellite.\nAlthough it started as a proprietary protocol it was released Royalty free in 2010 and became an OASIS standard in 2014.\nMQTT stands for MQ Telemetry Transport but previously was known as Message Queuing Telemetry Transport.\nMQTT is fast becoming one of the main protocols for IOT (internet of things) deployments.\nMQTT Versions The original MQTT which was designed in 1999 and has been in use for many years and is designed for TCP/IP networks.\nMQTTv3.1.1 is version in common use.\nThere is very little difference between v3.10 and 3.1.1. Here is a Github page detailing the main differences\nHere is the actual Specification MQTT V3.1 and here is a more detailed overview of the MQTT protocol packet structure,.\nThe latest MQTT version(v5) ,has now been approved (Jan 2018).. You can download the specification here.\nMQTT-SN Notes MQTT-SN which was specified in around 2013, and designed to work over UDP, ZigBee and other transports.\nMQTT-SN doesn’t currently appear to be very popular. and the specification hasn’t changed for several years, but I expect that to change as IOT deployments start. See MQTT-SN working Notes. for more details on MQTT-SN.\nMQTT Clients Because MQTT clients don’t have addresses like email addresses, phone numbers etc. you don’t need to assign addresses to clients like you do with most messaging systems.\nMQTT Brokers or Servers Note: The original term was broker but it has now been standardized as Server. You will see Both terms used.\nThere are many MQTT brokers available that you can use for testing and for real applications.\nThere are free self hosted brokers , the most popular being Mosquitto and commercial ones like HiveMQ.\nThere are many MQTT brokers available that you can use for testing and for real applications.\nMQTT Over WebSockets Websockets allows you to receive MQTT data directly into a web browser.\nThis is important as the web browser may become the DE-facto interface for displaying MQTT data.\nMQTT websocket support for web browsers is provided by the Javascript MQTT Client.\nSee –Using MQTT Over WebSockets\nMQTT Security MQTT supports various authentications and data security mechanisms.\nIt is important to note that these security mechanisms are configured on the MQTT broker, and it is up to the client to comply with the mechanisms in place.\nSee An Introduction to MQTT security mechanisms\nCommon Questions If you are familiar with the web and email then you will probably find, as I did, that MQTT is very different. These are some of the questions I had, and saw on other sites and forums that may clear things up a little.\nQ, What Port does MQTT Normally Use? A- The standard port is 1883.\nQ- Can you use MQTT without a broker? A- No See How MQTT works\nQ- What Protocol does MQTT use? A- The standard version uses TCP/IP.\nQ, Can multiple clients publish to the same topic? A- Yes\nQ- Is possible to know the identity of the client that published a message? A- No not unless the client includes that information in the topic or payload.\nQ- What happens to messages that get published to topics that no one subscribes to? A- They are discarded by the broker.\nQ-How can I find out what topics have been published? A- You can’t do this easily as the broker doesn’t seem to keep a list of published topics as they aren’t permanent.\nQ- Can I subscribe to a topic that no one is publishing to? A- Yes\nQ- Are messages stored on the broker? A- Yes but only temporarily. Once they have been sent to all subscribers they are then discarded. But see next question.\nQ- What are retained messages? A- When you publish a message you can have the broker store the last published message. This message will be the first message that new subscribers see when they subscribe to that topic. MQTT only retains 1 message. See Understanding Retained Messages\nOther MQTT Tutorials Here is a list of all MQTT tutorials on this site\nMQTT vs HTTP If you are wondering if MQTT is the best choice for your project then here are a collection of articles comparing MQTT with HTTP.\nInternet of Things: Battle of The Protocols (HTTP vs. Websockets vs. MQTT) MQTT vs. HTTP: which one is the best for IoT? HTTP vs MQTT performance tests MQTT and HTTP : Comparison between two IoT Protocols – contains errors but chart useful ","wordCount":"1284","inLanguage":"en","datePublished":"2023-11-24T16:20:49+08:00","dateModified":"2023-11-24T16:20:49+08:00","author":{"@type":"Person","name":null},"mainEntityOfPage":{"@type":"WebPage","@id":"https://chiehting.com/posts/mqtt-beginners-guide/"},"publisher":{"@type":"Organization","name":"Chiehting's Blog","description":"This website is preview about Chiehting. irregular update.","logo":{"@type":"ImageObject","url":"https://chiehting.com/favicon.ico"}}}</script><title>MQTT 初學指南</title><link rel="stylesheet dns-prefetch preconnect preload prefetch" as=style media=screen href=https://chiehting.com/css/style.min.4a728eca217aff37d24d94ea492de99e69fea0a53bb05c836db76b9d0504ef60.css integrity="sha256-SnKOyiF6/zfSTZTqSS3pnmn+oKU7sFyDbbdrnQUE72A=" crossorigin=anonymous></head><body id=page><header id=site-header class="animated slideInUp"><div class="hdr-wrapper section-inner"><div class=hdr-left><div class=site-branding><a href=https://chiehting.com/>Chiehting's Blog</a></div><nav class="site-nav hide-in-mobile"><a href=https://chiehting.com/posts/>Posts</a><a href=https://chiehting.com/about/>About</a></nav></div><div class="hdr-right hdr-icons"><span class="hdr-links hide-in-mobile"><a href=ting911111@gmail.com target=_blank rel="noopener me" title=Email><svg class="feather" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4 4h16c1.1.0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1.0-2-.9-2-2V6c0-1.1.9-2 2-2z"/><polyline points="22,6 12,13 2,6"/></svg></a><a href=https://github.com/chiehting target=_blank rel="noopener me" title=Github><svg class="feather" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37.0 00-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44.0 0020 4.77 5.07 5.07.0 0019.91 1S18.73.65 16 2.48a13.38 13.38.0 00-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07.0 005 4.77 5.44 5.44.0 003.5 8.55c0 5.42 3.3 6.61 6.44 7A3.37 3.37.0 009 18.13V22"/></svg></a></span><button id=menu-btn class=hdr-btn title=Menu><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"><line x1="3" y1="12" x2="21" y2="12"/><line x1="3" y1="6" x2="21" y2="6"/><line x1="3" y1="18" x2="21" y2="18"/></svg></button></div></div></header><div id=mobile-menu class="animated fast"><ul><li><a href=https://chiehting.com/posts/>Posts</a></li><li><a href=https://chiehting.com/about/>About</a></li></ul></div><main class="site-main section-inner thin animated fadeIn faster"><h1>MQTT 初學指南</h1><div class=content><p>本篇文章說明了 MQTT 的相關知識，包括起源、版本、資安, etc。MQTT 用於 IoT 訊息傳遞的服務，由 client 跟 brokers 的架構組成。由於用於 IoT 設備，所以通常硬件的資源有限，MQTT 輕量且穩定的好處就很適合。</p><h2 id=references>References<a href=#references class=anchor aria-hidden=true><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 7h3a5 5 0 015 5 5 5 0 01-5 5h-3m-6 0H6a5 5 0 01-5-5 5 5 0 015-5h3"/><line x1="8" y1="12" x2="16" y2="12"/></svg></a></h2><p><a href=http://www.steves-internet-guide.com/mqtt/>Beginners Guide To The MQTT Protocol</a></p><h2 id=mqtt>MQTT<a href=#mqtt class=anchor aria-hidden=true><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 7h3a5 5 0 015 5 5 5 0 01-5 5h-3m-6 0H6a5 5 0 01-5-5 5 5 0 015-5h3"/><line x1="8" y1="12" x2="16" y2="12"/></svg></a></h2><h3 id=summary>Summary<a href=#summary class=anchor aria-hidden=true><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 7h3a5 5 0 015 5 5 5 0 01-5 5h-3m-6 0H6a5 5 0 01-5-5 5 5 0 015-5h3"/><line x1="8" y1="12" x2="16" y2="12"/></svg></a></h3><p>MQTT 是一個輕量且高效的訊息佇列遙測傳輸，常用於 IoT 系統。他是由 Andy Stanford-Clark (IBM) 和 Arlen Nipper 在 1999 年設計的，後來被 OASIS 在 2014 年標準化。</p><p>MQTT 是讓兩的裝置可以透過 broker 進行交互溝通，例如 &ldquo;智慧門鎖&rdquo; 跟 &ldquo;APP&rdquo; 做訊息（開門、訪客, etc）的通知。</p><p>目前 MQTT 的最新版本為 v5，是在 v3 的版本上做優化。但要使用 v5 版本必需要 broker 跟 client 都使用 v5 版本。所以目前主流的版本還是 v3.1.1。</p><p>文章中也有列出一些常見的問題：</p><table><thead><tr><th>Question</th><th>Answer</th></tr></thead><tbody><tr><td>MQTT 可以不需要 broker 嗎？</td><td>不行，必須要使用 brokers。因為 IoT 裝置上的限制。</td></tr><tr><td>MQTT 使用的 Protocol 是什麼？</td><td>MQTT 標準版本使用的是 TCP/IP</td></tr><tr><td>有可能從發布訊息中取得 client 的身份嗎？</td><td>預設沒有這方面的資訊，除非在 topic or payload 中有配置。</td></tr><tr><td>要如何找出已經 published topics？</td><td>無法容易地做到，因為 MQTT 不要長久地保持 published topics。</td></tr><tr><td>訊息會被保存在 borker 上嗎？</td><td>會暫時的保存在 broker 上，等訊息被發出後就會拋棄。</td></tr></tbody></table><h3 id=note>Note<a href=#note class=anchor aria-hidden=true><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 7h3a5 5 0 015 5 5 5 0 01-5 5h-3m-6 0H6a5 5 0 01-5-5 5 5 0 015-5h3"/><line x1="8" y1="12" x2="16" y2="12"/></svg></a></h3><p>原文 :: <a href=http://www.steves-internet-guide.com/mqtt/>Beginners Guide To The MQTT Protocol</a></p><h4 id=what-is-mqtt>What is MQTT?<a href=#what-is-mqtt class=anchor aria-hidden=true><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 7h3a5 5 0 015 5 5 5 0 01-5 5h-3m-6 0H6a5 5 0 01-5-5 5 5 0 015-5h3"/><line x1="8" y1="12" x2="16" y2="12"/></svg></a></h4><p>MQTT is a lightweight <strong>publish/subscribe</strong> messaging protocol designed for M2M (machine to machine) telemetry in low bandwidth environments.</p><p>It was designed by Andy Stanford-Clark (IBM) and Arlen Nipper in 1999 for connecting Oil Pipeline telemetry systems over satellite.</p><p>Although it started as a proprietary protocol it was released Royalty free in 2010 and became an OASIS standard in 2014.</p><p><strong>MQTT</strong> stands for <strong>MQ</strong> Telemetry Transport but previously was known as Message Queuing Telemetry Transport.</p><p><strong>MQTT</strong> is fast becoming one of the main protocols for <strong>IOT</strong> (internet of things) deployments.</p><h4 id=mqtt-versions>MQTT Versions<a href=#mqtt-versions class=anchor aria-hidden=true><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 7h3a5 5 0 015 5 5 5 0 01-5 5h-3m-6 0H6a5 5 0 01-5-5 5 5 0 015-5h3"/><line x1="8" y1="12" x2="16" y2="12"/></svg></a></h4><p>The original <strong>MQTT</strong> which was designed in 1999 and has been in use for many years and is designed for <strong>TCP/IP networks</strong>.</p><p>MQTTv3.1.1 is version in common use.</p><p>There is very little difference between v3.10 and 3.1.1. Here is a <a href=https://github.com/mqtt/mqtt.github.io/wiki/Differences-between-3.1.0-and-3.1.1>Github page</a> detailing the main differences</p><p>Here is the actual Specification <a href=http://public.dhe.ibm.com/software/dw/webservices/ws-mqtt/MQTT_V3.1_Protocol_Specific.pdf>MQTT V3.1</a> and here is a more detailed overview of the <a href=http://www.steves-internet-guide.com/mqtt-protocol-messages-overview/>MQTT protocol packet structure,.</a></p><p>The latest MQTT version(v5) ,<a href=https://www.oasis-open.org/news/announcements/mqtt-v5-0-is-an-approved-oasis-committee-specification>has now been approved</a> (Jan 2018).. You can download the specification <a href=http://docs.oasis-open.org/mqtt/mqtt/v5.0/cs01/mqtt-v5.0-cs01.pdf>here</a>.</p><h4 id=mqtt-sn-notes><strong>MQTT-SN Notes</strong><a href=#mqtt-sn-notes class=anchor aria-hidden=true><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 7h3a5 5 0 015 5 5 5 0 01-5 5h-3m-6 0H6a5 5 0 01-5-5 5 5 0 015-5h3"/><line x1="8" y1="12" x2="16" y2="12"/></svg></a></h4><p><strong>MQTT-SN</strong> which was specified in around 2013, and designed to work over <strong>UDP</strong>, ZigBee and other transports.</p><p><strong>MQTT-SN</strong> doesn’t currently appear to be very popular. and the specification hasn’t changed for several years, but I expect that to change as <strong>IOT</strong> deployments start. See <a href=http://www.steves-internet-guide.com/mqtt-sn/>MQTT-SN working Notes</a>. for more details on MQTT-SN.</p><h4 id=mqtt-clients>MQTT Clients<a href=#mqtt-clients class=anchor aria-hidden=true><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 7h3a5 5 0 015 5 5 5 0 01-5 5h-3m-6 0H6a5 5 0 01-5-5 5 5 0 015-5h3"/><line x1="8" y1="12" x2="16" y2="12"/></svg></a></h4><p>Because MQTT clients don’t have addresses like email addresses, phone numbers etc. you don’t need to assign addresses to clients like you do with most messaging systems.</p><h4 id=mqtt-brokers-or-servers>MQTT Brokers or Servers<a href=#mqtt-brokers-or-servers class=anchor aria-hidden=true><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 7h3a5 5 0 015 5 5 5 0 01-5 5h-3m-6 0H6a5 5 0 01-5-5 5 5 0 015-5h3"/><line x1="8" y1="12" x2="16" y2="12"/></svg></a></h4><p><strong>Note:</strong> The original term was <strong>broker</strong> but it has now been standardized as <strong>Server</strong>. You will see Both terms used.</p><p>There are many MQTT brokers available that you can use for testing and for real applications.</p><p>There are free self hosted brokers , the most popular being <a href=https://mosquitto.org/>Mosquitto</a> and commercial ones like <a href=http://www.hivemq.com/>HiveMQ.</a></p><p>There are many MQTT brokers available that you can use for testing and for real applications.</p><h4 id=mqtt-over-websockets>MQTT Over WebSockets<a href=#mqtt-over-websockets class=anchor aria-hidden=true><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 7h3a5 5 0 015 5 5 5 0 01-5 5h-3m-6 0H6a5 5 0 01-5-5 5 5 0 015-5h3"/><line x1="8" y1="12" x2="16" y2="12"/></svg></a></h4><p><strong>Websockets</strong> allows you to receive MQTT data directly into a web browser.</p><p>This is important as the web browser may become the DE-facto interface for displaying MQTT data.</p><p>MQTT websocket support for web browsers is provided by the <strong>Javascript MQTT Client</strong>.</p><p>See –<a href=http://www.steves-internet-guide.com/mqtt-websockets/>Using MQTT Over WebSockets</a></p><h4 id=mqtt-security>MQTT Security<a href=#mqtt-security class=anchor aria-hidden=true><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 7h3a5 5 0 015 5 5 5 0 01-5 5h-3m-6 0H6a5 5 0 01-5-5 5 5 0 015-5h3"/><line x1="8" y1="12" x2="16" y2="12"/></svg></a></h4><p>MQTT supports various authentications and data security mechanisms.</p><p>It is important to note that these security mechanisms are configured on the MQTT broker, and it is up to the client to comply with the mechanisms in place.</p><p>See <a href=http://www.steves-internet-guide.com/mqtt-security-mechanisms/>An Introduction to MQTT security mechanisms</a></p><h4 id=common-questions>Common Questions<a href=#common-questions class=anchor aria-hidden=true><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 7h3a5 5 0 015 5 5 5 0 01-5 5h-3m-6 0H6a5 5 0 01-5-5 5 5 0 015-5h3"/><line x1="8" y1="12" x2="16" y2="12"/></svg></a></h4><p>If you are familiar with the web and email then you will probably find, as I did, that MQTT is very different. These are some of the questions I had, and saw on other sites and forums that may clear things up a little.</p><h5 id=q-what-port-does-mqtt-normally-use>Q, What Port does MQTT Normally Use?<a href=#q-what-port-does-mqtt-normally-use class=anchor aria-hidden=true><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 7h3a5 5 0 015 5 5 5 0 01-5 5h-3m-6 0H6a5 5 0 01-5-5 5 5 0 015-5h3"/><line x1="8" y1="12" x2="16" y2="12"/></svg></a></h5><p><strong>A-</strong> The standard port is 1883.</p><h5 id=q--can-you-use-mqtt-without-a-broker>Q- Can you use MQTT without a broker?<a href=#q--can-you-use-mqtt-without-a-broker class=anchor aria-hidden=true><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 7h3a5 5 0 015 5 5 5 0 01-5 5h-3m-6 0H6a5 5 0 01-5-5 5 5 0 015-5h3"/><line x1="8" y1="12" x2="16" y2="12"/></svg></a></h5><p>A- No See <a href=http://www.steves-internet-guide.com/mqtt-works/>How MQTT works</a></p><h5 id=q--what-protocol-does-mqtt-use>Q- What Protocol does MQTT use?<a href=#q--what-protocol-does-mqtt-use class=anchor aria-hidden=true><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 7h3a5 5 0 015 5 5 5 0 01-5 5h-3m-6 0H6a5 5 0 01-5-5 5 5 0 015-5h3"/><line x1="8" y1="12" x2="16" y2="12"/></svg></a></h5><p>A- The standard version uses <strong>TCP/IP</strong>.</p><h5 id=q-can-multiple-clients-publish-to-the-same-topic>Q, Can multiple clients publish to the same topic?<a href=#q-can-multiple-clients-publish-to-the-same-topic class=anchor aria-hidden=true><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 7h3a5 5 0 015 5 5 5 0 01-5 5h-3m-6 0H6a5 5 0 01-5-5 5 5 0 015-5h3"/><line x1="8" y1="12" x2="16" y2="12"/></svg></a></h5><p><strong>A-</strong> Yes</p><h5 id=q--is-possible-to-know-the-identity-of-the-client-that-published-a-message>Q- Is possible to know the identity of the client that published a message?<a href=#q--is-possible-to-know-the-identity-of-the-client-that-published-a-message class=anchor aria-hidden=true><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 7h3a5 5 0 015 5 5 5 0 01-5 5h-3m-6 0H6a5 5 0 01-5-5 5 5 0 015-5h3"/><line x1="8" y1="12" x2="16" y2="12"/></svg></a></h5><p><strong>A-</strong> No not unless the client includes that information in the topic or payload.</p><h5 id=q--what-happens-to-messages-that-get-published-to-topics-that-no-one-subscribes-to>Q- What happens to messages that get published to topics that no one subscribes to?<a href=#q--what-happens-to-messages-that-get-published-to-topics-that-no-one-subscribes-to class=anchor aria-hidden=true><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 7h3a5 5 0 015 5 5 5 0 01-5 5h-3m-6 0H6a5 5 0 01-5-5 5 5 0 015-5h3"/><line x1="8" y1="12" x2="16" y2="12"/></svg></a></h5><p><strong>A-</strong> They are discarded by the broker.</p><h5 id=q-how-can-i-find-out-what-topics-have-been-published>Q-How can I find out what topics have been published?<a href=#q-how-can-i-find-out-what-topics-have-been-published class=anchor aria-hidden=true><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 7h3a5 5 0 015 5 5 5 0 01-5 5h-3m-6 0H6a5 5 0 01-5-5 5 5 0 015-5h3"/><line x1="8" y1="12" x2="16" y2="12"/></svg></a></h5><p><strong>A-</strong> You can’t do this easily as the broker doesn’t seem to keep a list of published topics as they aren’t permanent.</p><h5 id=q--can-i-subscribe-to-a-topic-that-no-one-is-publishing-to>Q- Can I subscribe to a topic that no one is publishing to?<a href=#q--can-i-subscribe-to-a-topic-that-no-one-is-publishing-to class=anchor aria-hidden=true><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 7h3a5 5 0 015 5 5 5 0 01-5 5h-3m-6 0H6a5 5 0 01-5-5 5 5 0 015-5h3"/><line x1="8" y1="12" x2="16" y2="12"/></svg></a></h5><p><strong>A-</strong> Yes</p><h5 id=q--are-messages-stored-on-the-broker>Q- Are messages stored on the broker?<a href=#q--are-messages-stored-on-the-broker class=anchor aria-hidden=true><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 7h3a5 5 0 015 5 5 5 0 01-5 5h-3m-6 0H6a5 5 0 01-5-5 5 5 0 015-5h3"/><line x1="8" y1="12" x2="16" y2="12"/></svg></a></h5><p>A- <strong>Yes</strong> but only temporarily. Once they have been sent to all subscribers they are then discarded. But see next question.</p><h5 id=q--what-are-retained-messages>Q- What are retained messages?<a href=#q--what-are-retained-messages class=anchor aria-hidden=true><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 7h3a5 5 0 015 5 5 5 0 01-5 5h-3m-6 0H6a5 5 0 01-5-5 5 5 0 015-5h3"/><line x1="8" y1="12" x2="16" y2="12"/></svg></a></h5><p><strong>A-</strong> When you publish a message you can have the broker store the last published message. This message will be the first message that new subscribers see when they subscribe to that topic. <strong>MQTT only retains 1 message.</strong> See <a href=http://www.steves-internet-guide.com/mqtt-retained-messages-example/>Understanding Retained Messages</a></p><h4 id=other-mqtt-tutorials>Other MQTT Tutorials<a href=#other-mqtt-tutorials class=anchor aria-hidden=true><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 7h3a5 5 0 015 5 5 5 0 01-5 5h-3m-6 0H6a5 5 0 01-5-5 5 5 0 015-5h3"/><line x1="8" y1="12" x2="16" y2="12"/></svg></a></h4><p>Here is a list of <a href=http://www.steves-internet-guide.com/category/mqtt/>all MQTT tutorials</a> on this site</p><h4 id=mqtt-vs-http>MQTT vs HTTP<a href=#mqtt-vs-http class=anchor aria-hidden=true><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 7h3a5 5 0 015 5 5 5 0 01-5 5h-3m-6 0H6a5 5 0 01-5-5 5 5 0 015-5h3"/><line x1="8" y1="12" x2="16" y2="12"/></svg></a></h4><p>If you are wondering if MQTT is the best choice for your project then here are a collection of articles comparing MQTT with HTTP.</p><ul><li><a href=https://www.linkedin.com/pulse/internet-things-http-vs-websockets-mqtt-ronak-singh-cspo/>Internet of Things: Battle of The Protocols (HTTP vs. Websockets vs. MQTT)</a></li><li><a href=https://medium.com/mqtt-buddy/mqtt-vs-http-which-one-is-the-best-for-iot-c868169b3105>MQTT vs. HTTP: which one is the best for IoT?</a></li><li><a href=https://flespi.com/blog/http-vs-mqtt-performance-tests>HTTP vs MQTT performance tests</a></li><li><a href=https://iotdunia.com/mqtt-and-http/>MQTT and HTTP : Comparison between two IoT Protocols</a> – contains errors but chart useful</li></ul></div><div class="human single"><a href=https://brainmade.org/ target=_blank rel="external noreferrer noopener"><abbr title="I don't hate AIs; but I love humans!"><svg fill="#fff" width="128" height="40" viewBox="0 0 128 40"><path d="M26.306 39.391H11.665a1.28 1.28.0 01-1.28-1.28v-3.838H6.399a1.28 1.28.0 01-1.28-1.28v-5.336l-4.41-2.198a1.28 1.28.0 01-.493-1.855l4.904-7.357v-2.175C5.12 6.298 11.422.0 19.194.0s14.073 6.3 14.075 14.071c-.316 13.912-5.38 11.758-5.59 17.023l-.093 7.018a1.3 1.3.0 01-.375.905 1.27 1.27.0 01-.905.375zm-13.361-2.559h12.082l.143-7.27c-.132-3.329 5.858-4.122 5.54-15.368-.179-6.356-5.157-11.635-11.515-11.635S7.68 7.713 7.679 14.071v2.559c-.001.253-.075.5-.215.71l-4.315 6.471 3.822 1.91a1.28 1.28.0 01.708 1.145v4.848h3.987a1.28 1.28.0 011.28 1.28z"/><path d="M20.186 29.111v-9.644c.059.0.118.009.177.009 4.885-.006 8.525-4.506 7.511-9.284a1.19 1.19.0 00-.911-.911 7.67 7.67.0 00-9.049 5.67l-.033-.036a7.66 7.66.0 00-7.03-2.085 1.19 1.19.0 00-.911.91c-1.014 4.777 2.627 9.277 7.51 9.284.118.0.246-.014.369-.02v6.106zm1.419-16.072a5.33 5.33.0 014.062-1.553 5.33 5.33.0 01-5.614 5.615 5.3 5.3.0 011.552-4.061zm-7.904 6.057a5.3 5.3.0 01-1.559-4.061 5.323 5.323.0 015.614 5.615 5.3 5.3.0 01-4.055-1.554m38.419-6.79q0 2.346-1.567 3.63-1.567 1.282-4.351 1.283h-7.669V0h7.016q2.807.0 4.242 1.1 1.446 1.087 1.446 3.226.0 1.467-.729 2.481-.718 1.002-2.197 1.357 1.86.244 2.828 1.32.979 1.063.979 2.823zm-4.112-7.491q0-1.161-.663-1.65-.652-.488-1.947-.488h-3.655v4.265h3.677q1.36.0 1.968-.525.62-.537.62-1.601m.892 7.209q0-2.42-3.089-2.42h-4.069v4.938h4.188q1.545.0 2.252-.624.718-.635.718-1.894m16.26 5.194-3.557-6.538h-3.764v6.538H54.63V0h7.658q2.741.0 4.231 1.332 1.49 1.32 1.49 3.8.0 1.808-.913 3.128-.914 1.308-2.47 1.723l4.144 7.235zm-.381-11.94q0-2.481-2.828-2.481h-4.112v5.083h4.199q1.349.0 2.045-.684.696-.685.696-1.919m16.785 11.94-1.36-4.399h-5.841l-1.359 4.399h-3.209L75.386.0h3.785l5.569 17.219zM77.278 2.651l-.066.269q-.109.44-.261 1.002c-.152.563-.725 2.436-1.871 6.184h4.405l-1.512-4.949-.468-1.662zm9.551 14.567V0h3.209v17.219zm15.53.0L95.681 3.959q.196 1.931.196 3.104v10.155h-2.849V0h3.666l6.777 13.37q-.196-1.846-.196-3.361V0h2.85v17.219zM52.63 39.375V28.331q.011-.351.115-3.015-.818 3.257-1.209 4.541l-2.925 9.518h-2.418l-2.925-9.518-1.232-4.541q.139 2.809.139 3.717v10.342h-3.017V22.313h4.548l2.902 9.543.253.92.553 2.289.725-2.736 2.983-10.015h4.526v17.063zm17.64.0-1.44-4.359h-6.184l-1.44 4.359h-3.397l5.919-17.063h4.007l5.896 17.063zm-4.537-14.434-.069.267q-.115.436-.277.993c-.162.557-.767 2.414-1.98 6.128h4.663l-1.601-4.905-.495-1.647zm24.577 5.776q0 2.64-.99 4.614-.979 1.961-2.787 3.003-1.796 1.042-4.122 1.042h-6.564V22.313h5.873q4.099.0 6.345 2.18 2.245 2.167 2.245 6.224m-3.42.0q0-2.748-1.359-4.19-1.359-1.453-3.881-1.453h-2.407v11.54h2.879q2.188.0 3.478-1.586t1.29-4.311m6 8.659V22.313h12.759v2.761h-9.362v4.287h8.66v2.761h-8.66v4.492h9.835v2.761zm15.75.0v-3.693h3.328v3.693zm12.445-12.149q2.082.0 3.662.781 1.58.78 2.422 2.235.833 1.454.833 3.393.0 2.98-1.845 4.676Q124.302 40 121.085 40q-3.208.0-5.005-1.688-1.798-1.688-1.798-4.695c0-3.007.606-3.57 1.817-4.694q1.817-1.696 4.986-1.696m0 2.702q-2.157.0-3.378.97-1.23.97-1.23 2.72.0 1.777 1.22 2.747 1.211.97 3.388.97 2.195.0 3.462-.988 1.258-.997 1.258-2.711.0-1.778-1.23-2.738-1.23-.97-3.491-.97m6.725-13.402-5.062 2.935v3.107h5.062v2.648h-13.331v-6.322q0-2.261 1.031-3.491 1.022-1.23 2.942-1.23 1.4.0 2.422.754 1.012.754 1.334 2.038l5.601-3.42zm-9.244.314q-1.92.0-1.921 2.334v3.393h3.936v-3.465q0-1.113-.53-1.688t-1.486-.575m7.249-10.915a6.5 6.5.0 00-.313-2.002q-.321-.969-.814-1.499h-1.845v3.088h-2.063V0h4.901q1.088 1.005 1.703 2.622a9.4 9.4.0 01.615 3.375q0 3.088-1.798 4.748-1.808 1.661-5.119 1.661-3.292.0-5.043-1.67-1.76-1.67-1.76-4.803.0-4.452 3.473-5.664l.776 2.442q-1.012.395-1.533 1.238-.52.844-.52 1.984.0 1.867 1.192 2.837t3.416.97q2.261.0 3.501-.997 1.23-1.005 1.23-2.818z"/></svg></abbr></a></div></main><footer id=site-footer class="section-inner thin animated fadeIn faster"><p>&copy; 2026 <a href=https://chiehting.com/>Chiehting's Blog</a>
&#183; Copyright © 2025 Chiehting Lee. All rights reserved.</p></footer><script async src=https://chiehting.com/js/bundle.min.217d62397cbef6f9f5d8bab30d7e7969d78c52a436ca5d5790cef4d6fef3f1f2.js integrity="sha256-IX1iOXy+9vn12LqzDX55adeMUqQ2yl1XkM701v7z8fI=" crossorigin=anonymous></script><script async src=https://chiehting.com/js/link-share.min.24409a4f6e5537d70ffc55ec8f9192208d718678cb8638585342423020b37f39.js integrity="sha256-JECaT25VN9cP/FXsj5GSII1xhnjLhjhYU0JCMCCzfzk=" crossorigin=anonymous></script></body></html>